Class("App.company","linb.Com",{Initialize:function(){},Instance:{autoDestroy:true,events:{onReady:"_onReady",onRender:"_onrender"},_onrender:function(){var A=linb.Dom.byId("iptSearchCompName");linb(A).nextFocus()},_onReady:function(B,C){SPA=this;g_LangKey=linb.getLang();this.grpCompanyDetails.setToggle(false);var A=linb.Dom.byId("iptSearchCompName");linb(A).nextFocus()},customAppend:function(B,A,D,C){return false},iniResource:function(A,B){},iniExComs:function(A,B){},iniComponents:function(){var C=this,B=[],A=function(D){B.push(D.get(0))};A((new linb.DataBinder).host(C,"bindcompany").setName("bindcompany"));A((new linb.DataBinder).host(C,"binduserdetails").setName("binduserdetails"));A((new linb.DataBinder).host(C,"bindnewuserdetails").setName("bindnewuserdetails"));A((new linb.DataBinder).host(C,"bindAdminNewUsers").setName("bindAdminNewUsers"));A((new linb.UI.Panel).host(C,"panelCompany").setZIndex(1).setVisibility("visible").setCaption("$app.caption.companymaintenance").setCustomStyle({PANEL:"overflow:auto"}));C.panelCompany.append((new linb.UI.Group).host(C,"grpCompanyDetails").setLeft(21).setTop(61).setWidth(430).setHeight(730).setVisibility("hidden").setCaption("<font size='1px' color='#123000'>$app.caption.mandatoryfields (<font color='red'>*</font>)</font>").setToggleBtn(false).setToggle(false));C.grpCompanyDetails.append((new linb.UI.Label).host(C,"lblCompName").setLeft(0).setTop(15).setCaption("<font color='red'>*</font>&nbsp;&nbsp;<b>$app.caption.companyname :</b>"));C.grpCompanyDetails.append((new linb.UI.Label).host(C,"lblFaxno").setLeft(20).setTop(250).setWidth(100).setCaption("<b>$app.caption.faxnumber :</b>"));C.grpCompanyDetails.append((new linb.UI.Label).host(C,"lblemailAdd").setLeft(20).setTop(280).setWidth(100).setCaption("<b>$app.caption.emailaddress :</b>"));C.grpCompanyDetails.append((new linb.UI.Label).host(C,"lblAddress3").setLeft(10).setTop(190).setWidth(110).setCaption("<b>$app.caption.address3 :</b>"));C.grpCompanyDetails.append((new linb.UI.Label).host(C,"lblTelNo").setLeft(20).setTop(220).setWidth(100).setCaption("<b>$app.caption.telephonenumber :</b>"));C.grpCompanyDetails.append((new linb.UI.Label).host(C,"lblUsersList").setLeft(10).setTop(490).setCaption("<u><b>$app.caption.userslist :</b></u>").setHAlign("left"));C.grpCompanyDetails.append((new linb.UI.Label).host(C,"lblShortname").setLeft(30).setTop(40).setWidth(90).setCaption("<font color='red'>*</font>&nbsp;&nbsp;<b>$app.caption.shortname :</b>"));C.grpCompanyDetails.append((new linb.UI.Label).host(C,"lblAddress1").setLeft(0).setTop(130).setCaption("<b>$app.caption.address1 :</b>"));C.grpCompanyDetails.append((new linb.UI.Label).host(C,"lblComptype").setLeft(0).setTop(70).setCaption("<font color='red'>*</font>&nbsp;&nbsp;<b>$app.caption.companytype :</b>"));C.grpCompanyDetails.append((new linb.UI.Label).host(C,"lblAddress2").setLeft(0).setTop(160).setCaption("<b>$app.caption.address2 :</b>"));C.grpCompanyDetails.append((new linb.UI.Label).host(C,"lblComments").setLeft(0).setTop(330).setCaption("<b>$app.caption.comments</b>"));C.grpCompanyDetails.append((new linb.UI.Label).host(C,"lblContactPerson").setLeft(0).setTop(100).setCaption("<b>$app.caption.contactperson :</b>"));C.grpCompanyDetails.append((new linb.UI.TreeGrid).host(C,"tgUsersList").setDataBinder("bindcompany").setDataField("compuserslist").setDock("none").setLeft(10).setTop(510).setWidth(400).setHeight(160).setRowHandler(false).setCustomStyle({KEY:"cursor:pointer"}).setHeader([{id:"colUsername",width:140,type:"label",caption:"$app.caption.userid",cellStyle:"text-align:center;",headerStyle:"font-weight:bold"},{id:"colRole",width:135,type:"label",caption:"$app.caption.role",cellStyle:"text-align:center;",headerStyle:"font-weight:bold"},{id:"colDetail",width:100,type:"button",cellStyle:"background-color:#E6E6FA;text-align:center;",caption:"$app.caption.details",headerStyle:"font-weight:bold"}]).onClickCell("_tguserslist_onclickcell"));C.grpCompanyDetails.append((new linb.UI.Label).host(C,"lblCompanyId").setLeft(220).setTop(460).setWidth(80).setCaption(""));C.grpCompanyDetails.append((new linb.UI.Label).host(C,"lblUserId").setLeft(280).setTop(460).setWidth(70).setCaption(""));C.grpCompanyDetails.append((new linb.UI.Input).host(C,"iptCompName").setDataBinder("bindcompany").setDataField("companyname").setDirtyMark(false).setLeft(130).setTop(10).setWidth(280).setTabindex(401).setBorder(true).setTipsErr("Required Company name.").setMaxlength(50));C.grpCompanyDetails.append((new linb.UI.Input).host(C,"iptShortName").setDataBinder("bindcompany").setDataField("compshortname").setDirtyMark(false).setLeft(130).setTop(40).setWidth(280).setTabindex(402).setBorder(true).setTipsErr("Required Short Name").setMaxlength(10));C.grpCompanyDetails.append((new linb.UI.ComboInput).host(C,"cbiCompanyType").setDataBinder("bindcompany").setDataField("comptype").setDirtyMark(false).setLeft(130).setTop(70).setWidth(280).setHeight(23).setTabindex(403).setBorder(true).setTipsErr("Required Company Type").setDynCheck(true).setCachePopWnd(false).setItems([{id:"1",caption:"Seller"},{id:"3",caption:"Buyer"}]).onHotKeypress("_cbicompanytype_onhotkeypress"));C.grpCompanyDetails.append((new linb.UI.Input).host(C,"iptContactPerson").setDataBinder("bindcompany").setDataField("compcontactperson").setDirtyMark(false).setLeft(130).setTop(100).setWidth(280).setTabindex(404).setBorder(true).setMaxlength(50));C.grpCompanyDetails.append((new linb.UI.Input).host(C,"iptAddress1").setDataBinder("bindcompany").setDataField("compaddress1").setDirtyMark(false).setLeft(130).setTop(130).setWidth(280).setTabindex(405).setBorder(true).setMaxlength(100));C.grpCompanyDetails.append((new linb.UI.Input).host(C,"iptAddress2").setDataBinder("bindcompany").setDataField("compaddress2").setDirtyMark(false).setLeft(130).setTop(160).setWidth(280).setTabindex(406).setBorder(true).setMaxlength(100));C.grpCompanyDetails.append((new linb.UI.Input).host(C,"iptAddress3").setDataBinder("bindcompany").setDataField("compaddress3").setDirtyMark(false).setLeft(130).setTop(190).setWidth(280).setTabindex(407).setBorder(true).setMaxlength(100));C.grpCompanyDetails.append((new linb.UI.Input).host(C,"iptTelNo").setDataBinder("bindcompany").setDataField("comptelno").setDirtyMark(false).setLeft(130).setTop(220).setWidth(280).setTabindex(408).setBorder(true).onHotKeypress("_ipttelno_onhotkeypress").setMaxlength(20));C.grpCompanyDetails.append((new linb.UI.Input).host(C,"iptFaxNo").setDataBinder("bindcompany").setDataField("compfaxno").setDirtyMark(false).setLeft(130).setTop(250).setWidth(280).setTabindex(409).setBorder(true).onHotKeypress("_iptfaxno_onhotkeypress").setMaxlength(20).beforeKeypress("_iptFaxNo_beforekeypress"));C.grpCompanyDetails.append((new linb.UI.Input).host(C,"iptEmailAdd").setDataBinder("bindcompany").setDataField("compemailaddress").setDirtyMark(false).setLeft(130).setTop(280).setWidth(280).setTabindex(410).setBorder(true).setMaxlength(50).onBlur("_iptemailadd_onblur"));C.grpCompanyDetails.append((new linb.UI.CheckBox).host(C,"chkSOX").setDataBinder("bindcompany").setDataField("compsox").setDirtyMark(false).setDisabled(true).setLeft(120).setTop(305).setTabindex(411).setCaption("<font color='#000000'>SOX</font>").setVisibility("hidden"));C.grpCompanyDetails.append((new linb.UI.TextEditor).host(C,"txtEditorComment").setDataBinder("bindcompany").setDataField("compcomments").setDirtyMark(false).setLeft(130).setTop(330).setWidth(280).setHeight(90).setTabindex(412).setBorder(true).onHotKeypress("_txteditorcomment_onhotkeypress"));C.grpCompanyDetails.append((new linb.UI.CheckBox).host(C,"chkIncludeDetails").setLeft(10).setTop(430).setWidth(170).setTabindex(413).setCaption("$app.caption.includeuserdetails").setVisibility("hidden"));C.grpCompanyDetails.append((new linb.UI.Button).host(C,"btnDownloadCompInfo").setDisabled(true).setLeft(20).setTop(460).setWidth(190).setTabindex(414).setCaption("$app.caption.downloadcompanyinfo").setImagePos("left").onClick("_btndownloadcompInfo_onclick"));C.grpCompanyDetails.append((new linb.UI.Button).host(C,"btnDealingPattern").setLeft(220).setTop(460).setWidth(190).setTabindex(415).setCaption("$app.caption.companydealingpattern").onClick("_btndealingpattern_onclick"));C.grpCompanyDetails.append((new linb.UI.Button).host(C,"btnAddCompUser").setLeft(120).setTop(680).setWidth(80).setTabindex(416).setCaption("$app.caption.adduser").onClick("_btnaddcompuser_onclick"));C.grpCompanyDetails.append((new linb.UI.Button).host(C,"btnAdministrator").setLeft(10).setTop(680).setWidth(110).setTabindex(417).setCaption("$app.caption.newadmininstrator").onClick("_btnadministrator_onclick"));C.grpCompanyDetails.append((new linb.UI.Button).host(C,"btnSaveCompUser").setLeft(270).setTop(680).setWidth(70).setTabindex(418).setCaption("$app.caption.save").onClick("_btnsavecompuser_onclick"));C.grpCompanyDetails.append((new linb.UI.Button).host(C,"btnCancelCompUser").setLeft(340).setTop(680).setWidth(70).setTabindex(419).setCaption("$app.caption.cancel").onClick("_btncancelcompuser_onclick"));C.grpCompanyDetails.append((new linb.UI.Button).host(C,"btnDeleteCompUser").setLeft(200).setTop(680).setWidth(70).setTabindex(420).setCaption("$app.caption.deletes").onClick("_btndeletecompuser_onclick"));C.panelCompany.append((new linb.UI.Panel).host(C,"pnlNewUserDetails").setDock("none").setLeft(471).setTop(21).setWidth(430).setHeight(773).setVisibility("hidden").setCaption("$app.caption.newuserdetails"));C.pnlNewUserDetails.append((new linb.UI.Label).host(C,"label245").setLeft(10).setTop(25).setCaption("<font color='red'>*</font>&nbsp;&nbsp;$app.caption.firstname :"));C.pnlNewUserDetails.append((new linb.UI.Label).host(C,"label246").setLeft(40).setTop(85).setWidth(90).setCaption("<font color='red'>*</font>&nbsp;&nbsp;$app.caption.role :"));C.pnlNewUserDetails.append((new linb.UI.Label).host(C,"label247").setLeft(20).setTop(55).setWidth(110).setCaption("<font color='red'>*</font>&nbsp;&nbsp;$app.caption.shortname :"));C.pnlNewUserDetails.append((new linb.UI.Label).host(C,"label248").setLeft(40).setTop(226).setWidth(90).setCaption("$app.caption.address1 :"));C.pnlNewUserDetails.append((new linb.UI.Label).host(C,"label102").setLeft(30).setTop(371).setWidth(100).setCaption("$app.caption.mobilenumber :"));C.pnlNewUserDetails.append((new linb.UI.Label).host(C,"label103").setLeft(20).setTop(401).setWidth(110).setCaption("$app.caption.emailaddress :"));C.pnlNewUserDetails.append((new linb.UI.Label).host(C,"label104").setLeft(30).setTop(461).setWidth(100).setCaption("$app.caption.comments :"));C.pnlNewUserDetails.append((new linb.UI.Label).host(C,"label105").setLeft(10).setTop(596).setCaption("<font color='red'>*</font>&nbsp;&nbsp;$app.caption.userid :"));C.pnlNewUserDetails.append((new linb.UI.Label).host(C,"label106").setLeft(10).setTop(626).setCaption("<font color='red'>*</font>&nbsp;&nbsp;$app.caption.password :"));C.pnlNewUserDetails.append((new linb.UI.Label).host(C,"label231").setLeft(30).setTop(110).setWidth(100).setCaption("<font color='red'>*</font>&nbsp;&nbsp;$app.caption.category :"));C.pnlNewUserDetails.append((new linb.UI.Label).host(C,"label293").setLeft(20).setTop(311).setWidth(110).setCaption("$app.caption.telephonenumber :"));C.pnlNewUserDetails.append((new linb.UI.Label).host(C,"label324").setLeft(10).setTop(256).setCaption("$app.caption.address2 :"));C.pnlNewUserDetails.append((new linb.UI.Label).host(C,"label325").setLeft(10).setTop(281).setCaption("$app.caption.address3 :"));C.pnlNewUserDetails.append((new linb.UI.Label).host(C,"label326").setLeft(20).setTop(341).setWidth(110).setCaption("$app.caption.faxnumber :"));C.pnlNewUserDetails.append((new linb.UI.Label).host(C,"label327").setLeft(0).setTop(436).setWidth(130).setCaption("$app.caption.mobileemailnumber :"));C.pnlNewUserDetails.append((new linb.UI.Input).host(C,"iptNewFirstName").setDataBinder("bindnewuserdetails").setDataField("compnewfirstname").setLeft(130).setTop(20).setWidth(271).setTabindex(51).setBorder(true).setMaxlength(64));C.pnlNewUserDetails.append((new linb.UI.Input).host(C,"iptNewShortName").setDataBinder("bindnewuserdetails").setDataField("compnewshortname").setLeft(130).setTop(50).setWidth(271).setTabindex(52).setBorder(true).setMaxlength(10));C.pnlNewUserDetails.append((new linb.UI.ComboInput).host(C,"cbiNewRole").setDataBinder("bindnewuserdetails").setDataField("compnewrole").setDirtyMark(false).setLeft(130).setTop(81).setWidth(271).setZIndex(0).setTabindex(53).setBorder(true).setDynCheck(true).setCachePopWnd(false).afterUIValueSet("_cbinewrole_afteruivalueset").onHotKeypress("_cbinewrole_onhotkeypress"));C.pnlNewUserDetails.append((new linb.UI.List).host(C,"lstNewCategory").setDataBinder("bindnewuserdetails").setDataField("compnewcategory").setLeft(130).setTop(110).setWidth(271).setHeight(101).setTabindex(54).setSelMode("multi").setValue(""));C.pnlNewUserDetails.append((new linb.UI.Input).host(C,"iptNewAddress1").setDataBinder("bindnewuserdetails").setDataField("compnewaddress1").setLeft(130).setTop(221).setWidth(271).setTabindex(55).setBorder(true).setMaxlength(100));C.pnlNewUserDetails.append((new linb.UI.Input).host(C,"iptNewAddress2").setDataBinder("bindnewuserdetails").setDataField("compnewaddress2").setLeft(130).setTop(251).setWidth(271).setTabindex(56).setBorder(true).setMaxlength(100));C.pnlNewUserDetails.append((new linb.UI.Input).host(C,"iptNewAddress3").setDataBinder("bindnewuserdetails").setDataField("compnewaddress3").setLeft(130).setTop(281).setWidth(271).setTabindex(57).setBorder(true).setMaxlength(100));C.pnlNewUserDetails.append((new linb.UI.Input).host(C,"iptNewTelNo").setDataBinder("bindnewuserdetails").setDataField("compnewtelno").setLeft(130).setTop(311).setWidth(271).setTabindex(58).setBorder(true).onHotKeypress("_iptnewtelno_onhotkeypress").setMaxlength(20));C.pnlNewUserDetails.append((new linb.UI.Input).host(C,"iptNewFaxNo").setDataBinder("bindnewuserdetails").setDataField("compnewfaxno").setLeft(130).setTop(341).setWidth(271).setTabindex(59).setBorder(true).onHotKeypress("_iptnewfaxno_onhotkeypress").setMaxlength(20));C.pnlNewUserDetails.append((new linb.UI.Input).host(C,"iptNewMobileNo").setDataBinder("bindnewuserdetails").setDataField("compnewmobileno").setLeft(130).setTop(371).setWidth(271).setTabindex(60).setBorder(true).onHotKeypress("_iptnewmobileno_onhotkeypress").setMaxlength(20));C.pnlNewUserDetails.append((new linb.UI.Input).host(C,"iptNewEmailAdd").setDataBinder("bindnewuserdetails").setDataField("compnewemailadd").setLeft(130).setTop(401).setWidth(271).setTabindex(61).setBorder(true).setMaxlength(50).onBlur("_iptnewemailadd_onblur"));C.pnlNewUserDetails.append((new linb.UI.Input).host(C,"iptNewMobEmailAdd").setDataBinder("bindnewuserdetails").setDataField("compnewmobemailadd").setLeft(130).setTop(431).setWidth(271).setTabindex(62).setBorder(true).setMaxlength(50).onBlur("_iptnewmobemailadd_onblur"));C.pnlNewUserDetails.append((new linb.UI.TextEditor).host(C,"txtEditorNewComments").setDataBinder("bindnewuserdetails").setDataField("compnewcomments").setLeft(130).setTop(461).setWidth(271).setHeight(90).setTabindex(63).setBorder(true).onHotKeypress("_txteditornewcomments_onhotkeypress"));C.pnlNewUserDetails.append((new linb.UI.CheckBox).host(C,"chkNewBMS").setDataBinder("bindnewuserdetails").setDataField("compnewuserbms").setDisabled(true).setLeft(120).setTop(561).setWidth(191).setTabindex(64).setCaption("$app.caption.userbms").setVisibility("hidden"));C.pnlNewUserDetails.append((new linb.UI.Input).host(C,"iptNewUserId").setDataBinder("bindnewuserdetails").setDataField("compnewuserid").setLeft(130).setTop(591).setWidth(271).setTabindex(65).setBorder(true).setMaxlength(21));C.pnlNewUserDetails.append((new linb.UI.Input).host(C,"iptNewPassword").setDataBinder("bindnewuserdetails").setDataField("compnewpassword").setLeft(130).setTop(621).setWidth(271).setTabindex(66).setBorder(true).setMaxlength(21).setType("password"));C.pnlNewUserDetails.append((new linb.UI.Button).host(C,"btnNewDealingPattern").setLeft(41).setTop(701).setWidth(180).setTabindex(67).setCaption("<b>$app.caption.userdealingpattern</b>").onClick("_btnnewdealingpattern_onclick"));C.pnlNewUserDetails.append((new linb.UI.Button).host(C,"btnSaveNewRole").setLeft(231).setTop(701).setWidth(80).setTabindex(68).setCaption("$app.caption.save").onClick("_btnsavenewrole_onclick"));C.pnlNewUserDetails.append((new linb.UI.Button).host(C,"btnCancelNewRole").setLeft(321).setTop(701).setWidth(80).setTabindex(69).setCaption("$app.caption.cancel").onClick("_btncancelnewrole_onclick"));C.panelCompany.append((new linb.UI.Panel).host(C,"pnlEditUserDetails").setDock("none").setLeft(471).setTop(21).setWidth(430).setHeight(770).setZIndex(1).setVisibility("hidden").setCaption("$app.caption.userdetails"));C.pnlEditUserDetails.append((new linb.UI.Label).host(C,"label245").setLeft(10).setTop(25).setCaption("<font color='red'>*</font>&nbsp;&nbsp;$app.caption.firstname :"));C.pnlEditUserDetails.append((new linb.UI.Label).host(C,"label246").setLeft(40).setTop(85).setWidth(90).setCaption("<font color='red'>*</font>&nbsp;&nbsp;$app.caption.role :"));C.pnlEditUserDetails.append((new linb.UI.Label).host(C,"lbleditshortname").setLeft(30).setTop(55).setWidth(100).setCaption("<font color='red'>*</font>&nbsp;&nbsp;$app.caption.shortname :"));C.pnlEditUserDetails.append((new linb.UI.Label).host(C,"label248").setLeft(30).setTop(251).setWidth(100).setCaption("$app.caption.address1 :"));C.pnlEditUserDetails.append((new linb.UI.Label).host(C,"label246").setLeft(50).setTop(656).setWidth(80).setCaption("<font color='red'>*</font>&nbsp;&nbsp;$app.caption.password :"));C.pnlEditUserDetails.append((new linb.UI.Label).host(C,"label247").setLeft(30).setTop(626).setWidth(100).setCaption("<font color='red'>*</font>&nbsp;&nbsp;$app.caption.userid :"));C.pnlEditUserDetails.append((new linb.UI.Label).host(C,"label248").setLeft(30).setTop(491).setWidth(100).setCaption("$app.caption.comments :"));C.pnlEditUserDetails.append((new linb.UI.Label).host(C,"label249").setLeft(30).setTop(431).setWidth(100).setCaption("$app.caption.emailaddress :"));C.pnlEditUserDetails.append((new linb.UI.Label).host(C,"label250").setLeft(30).setTop(341).setWidth(100).setCaption("$app.caption.telephonenumber :"));C.pnlEditUserDetails.append((new linb.UI.Label).host(C,"label230").setLeft(30).setTop(110).setWidth(100).setCaption("<font color='red'>*</font>&nbsp;&nbsp;$app.caption.category :"));C.pnlEditUserDetails.append((new linb.UI.Label).host(C,"label571").setLeft(30).setTop(401).setWidth(100).setCaption("$app.caption.mobilenumber :"));C.pnlEditUserDetails.append((new linb.UI.Label).host(C,"label163").setLeft(30).setTop(281).setWidth(100).setCaption("$app.caption.address2 :"));C.pnlEditUserDetails.append((new linb.UI.Label).host(C,"label164").setLeft(30).setTop(311).setWidth(100).setCaption("$app.caption.address3 :"));C.pnlEditUserDetails.append((new linb.UI.Label).host(C,"label165").setLeft(30).setTop(371).setWidth(100).setCaption("$app.caption.faxnumber :"));C.pnlEditUserDetails.append((new linb.UI.Label).host(C,"label166").setLeft(0).setTop(461).setWidth(130).setCaption("$app.caption.mobileemailnumber :"));C.pnlEditUserDetails.append((new linb.UI.Button).host(C,"btnEditRemove").setTips("Remove Category").setLeft(281).setTop(221).setCaption("$app.caption.remove").onClick("_btneditremove_onclick"));C.pnlEditUserDetails.append((new linb.UI.Input).host(C,"iptEditName").setDataBinder("binduserdetails").setDataField("compeditname").setDirtyMark(false).setLeft(130).setTop(20).setWidth(271).setTabindex(31).setBorder(true).setMaxlength(64));C.pnlEditUserDetails.append((new linb.UI.Input).host(C,"iptEditShortName").setDataBinder("binduserdetails").setDataField("compeditshortname").setDirtyMark(false).setLeft(130).setTop(50).setWidth(271).setTabindex(32).setBorder(true).setMaxlength(10));C.pnlEditUserDetails.append((new linb.UI.ComboInput).host(C,"cbiEditRole").setDataBinder("binduserdetails").setDataField("compeditrole").setDirtyMark(false).setDisabled(true).setLeft(130).setTop(80).setWidth(271).setHeight(23).setTabindex(33).setBorder(true).onHotKeypress("_cbieditrole_onhotkeypress"));C.pnlEditUserDetails.append((new linb.UI.List).host(C,"lstEditCategory").setDataBinder("binduserdetails").setDataField("compeditcategory").setDirtyMark(false).setLeft(130).setTop(110).setWidth(271).setHeight(101).setTabindex(34));C.pnlEditUserDetails.append((new linb.UI.Button).host(C,"btnEditCategory").setLeft(131).setTop(221).setWidth(130).setTabindex(35).setCaption("$app.caption.category").onClick("_btneditcategory_onclick"));C.pnlEditUserDetails.append((new linb.UI.Input).host(C,"iptEditAddress1").setDataBinder("binduserdetails").setDataField("compeditaddress1").setDirtyMark(false).setLeft(130).setTop(251).setWidth(271).setTabindex(36).setBorder(true).setMaxlength(100));C.pnlEditUserDetails.append((new linb.UI.Input).host(C,"iptEditAddress2").setDataBinder("binduserdetails").setDataField("compeditaddress2").setDirtyMark(false).setLeft(130).setTop(281).setWidth(271).setTabindex(37).setBorder(true).setMaxlength(100));C.pnlEditUserDetails.append((new linb.UI.Input).host(C,"iptEditAddress3").setDataBinder("binduserdetails").setDataField("compeditaddress3").setDirtyMark(false).setLeft(130).setTop(311).setWidth(271).setTabindex(38).setBorder(true).setMaxlength(100));C.pnlEditUserDetails.append((new linb.UI.Input).host(C,"iptEditTelNo").setDataBinder("binduserdetails").setDataField("compedittelno").setDirtyMark(false).setLeft(130).setTop(341).setWidth(271).setTabindex(39).setBorder(true).setMaxlength(20).onHotKeypress("_iptedittelno_onhotkeypress"));C.pnlEditUserDetails.append((new linb.UI.Input).host(C,"iptEditFaxNo").setDataBinder("binduserdetails").setDataField("compeditfaxno").setDirtyMark(false).setLeft(130).setTop(371).setWidth(271).setTabindex(40).setBorder(true).setMaxlength(20).onHotKeypress("_ipteditfaxno_onhotkeypress"));C.pnlEditUserDetails.append((new linb.UI.Input).host(C,"iptEditMobileNo").setDataBinder("binduserdetails").setDataField("compeditmobileno").setDirtyMark(false).setLeft(130).setTop(401).setWidth(271).setTabindex(41).setBorder(true).setMaxlength(20).onHotKeypress("_ipteditmobileno_onhotkeypress"));C.pnlEditUserDetails.append((new linb.UI.Input).host(C,"iptEditEmailAdd").setDataBinder("binduserdetails").setDataField("compeditemailaddress").setDirtyMark(false).setLeft(130).setTop(431).setWidth(271).setTabindex(42).setBorder(true).setValueFormat("^[\\w\\.=-]+@[\\w\\.-]+\\.[\\w\\.-]{2,4}$").setMaxlength(50).onBlur("_ipteditemailadd_onblur"));C.pnlEditUserDetails.append((new linb.UI.Input).host(C,"iptEditMobEmailAdd").setDataBinder("binduserdetails").setDataField("compeditmobemailaddress").setDirtyMark(false).setLeft(130).setTop(461).setWidth(271).setTabindex(43).setBorder(true).setMaxlength(50).onBlur("_ipteditmobemailadd_onblur"));C.pnlEditUserDetails.append((new linb.UI.TextEditor).host(C,"txtEditorEditComments").setDataBinder("binduserdetails").setDataField("compeditcomments").setDirtyMark(false).setLeft(130).setTop(491).setWidth(271).setHeight(90).setTabindex(44).setBorder(true).onHotKeypress("_txteditoreditcomments_onhotkeypress"));C.pnlEditUserDetails.append((new linb.UI.CheckBox).host(C,"chkEditBMS").setDataBinder("binduserdetails").setDataField("compeditbms").setDisabled(true).setLeft(120).setTop(591).setWidth(271).setTabindex(45).setCaption("$app.caption.userbms").setVisibility("hidden"));C.pnlEditUserDetails.append((new linb.UI.Input).host(C,"iptEditUserName").setDataBinder("binduserdetails").setDataField("compedituserid").setDirtyMark(false).setDisabled(true).setLeft(130).setTop(621).setWidth(271).setTabindex(46).setBorder(true).setMaxlength(21));C.pnlEditUserDetails.append((new linb.UI.Input).host(C,"iptEditPassword").setDataBinder("binduserdetails").setDataField("compeditpassword").setDirtyMark(false).setLeft(130).setTop(651).setWidth(271).setTabindex(47).setBorder(true).setMaxlength(21).setType("password"));C.pnlEditUserDetails.append((new linb.UI.Button).host(C,"btnEditDealingPattern").setLeft(31).setTop(701).setWidth(170).setTabindex(48).setCaption("<b>$app.caption.userdealingpattern</b>").onClick("_btneditdealingpattern_onclick"));C.pnlEditUserDetails.append((new linb.UI.Button).host(C,"btnSaveEditRole").setLeft(221).setTop(701).setWidth(80).setTabindex(49).setCaption("$app.caption.save").onClick("_btnsaveeditrole_onclick"));C.pnlEditUserDetails.append((new linb.UI.Button).host(C,"btnCancelEditRole").setLeft(321).setTop(701).setWidth(80).setTabindex(50).setCaption("$app.caption.cancel").onClick("_btncanceleditrole_onclick"));C.panelCompany.append((new linb.UI.Dialog).host(C,"dialogSearchCompany").setLeft(151).setTop(51).setHeight(310).setZIndex(2).setVisibility("hidden").setResizer(false).setCaption("$app.caption.search").setMovable(false).setMinBtn(false).setMaxBtn(false).setCloseBtn(false).setPinBtn(false));C.dialogSearchCompany.append((new linb.UI.Group).host(C,"group118").setLeft(10).setTop(10).setWidth(270).setHeight(250).setCaption("$app.caption.searchcompany").setToggleBtn(false));C.group118.append((new linb.UI.Input).host(C,"iptDlgSearchCompName").setLeft(10).setTop(10).setWidth(250).setHeight(23).setZIndex(1002).setMaxlength(50).onHotKeyup("_iptdlgsearchcompname_onhotkeyup").onHotKeypress("_iptdlgsearchcompname_onhotkeypress").onHotKeydown("_iptdlgsearchcompname_onhotkeydown").setCustomStyle({KEY:"background:#transparent;border: 1px"}));C.group118.append((new linb.UI.TreeGrid).host(C,"tgSearchCompanyName").setDock("none").setLeft(10).setTop(34).setWidth(250).setHeight(160).setAltRowsBg(true).setRowHandler(false).setCustomStyle({KEY:"cursor:pointer"}).setHeader([{id:"col1",width:245,type:"label",caption:"$app.caption.companyname",cellStyle:"text-align:center",headerStyle:"font-weight:bold"}]).onRowSelected("_tgsearchcompanyname_onrowselected").onDblclickRow("_tgsearchcompanyname_ondblclickrow"));C.group118.append((new linb.UI.Button).host(C,"btnSearchCompOk").setDisabled(true).setLeft(100).setTop(205).setWidth(70).setCaption("Ok").onClick("_btnsearchcompok_onclick"));C.group118.append((new linb.UI.Button).host(C,"btnSearchCompCancel").setLeft(180).setTop(205).setWidth(70).setCaption("$app.caption.cancel").onClick("_btnsearchcompcancel_onclick"));C.group118.append((new linb.UI.Input).host(C,"lblSearchUserId").setDisabled(true).setLeft(200).setTop(10).setWidth(60).setHeight(23).setMaxlength(21));C.panelCompany.append((new linb.UI.Dialog).host(C,"panelDealingPattern").setLeft(16).setTop(61).setWidth(711).setHeight(470).setZIndex(4).setVisibility("hidden").setResizer(false).setCaption("$app.caption.companydealingpattern").setMovable(false).setMinBtn(false).setMaxBtn(false).setCloseBtn(false).setCustomStyle({PANEL:"overflow:auto"}).setPinBtn(false));C.panelDealingPattern.append((new linb.UI.Group).host(C,"grpDealingPattern").setLeft(20).setTop(10).setWidth(650).setHeight(400).setCaption("").setToggleBtn(false));C.grpDealingPattern.append((new linb.UI.List).host(C,"lstAvailableCompDealingPattern").setLeft(40).setTop(70).setWidth(240).setHeight(260).setSelMode("multi").setValue(""));C.grpDealingPattern.append((new linb.UI.List).host(C,"lstSelectedCompDealingPattern").setLeft(380).setTop(70).setWidth(240).setHeight(260).onItemSelected("_lstselectedcompdealingpattern_onitemselected"));C.grpDealingPattern.append((new linb.UI.Button).host(C,"btnTransferAvailableCompanies").setLeft(290).setTop(160).setWidth(80).setCaption(">>>").onClick("_btntransferavailablecompanies_onclick"));C.grpDealingPattern.append((new linb.UI.Button).host(C,"btnCompDealingPatternCancel").setLeft(550).setTop(350).setWidth(70).setCaption("$app.caption.cancel").onClick("_btncompdealingpatterncancel_onclick"));C.grpDealingPattern.append((new linb.UI.Label).host(C,"label216").setLeft(40).setTop(50).setCaption("<b>$app.caption.availablecompany</b>").setHAlign("left"));C.grpDealingPattern.append((new linb.UI.Label).host(C,"label217").setLeft(380).setTop(50).setWidth(180).setCaption("<b>$app.caption.selectedcompany</b>").setHAlign("left"));C.grpDealingPattern.append((new linb.UI.Button).host(C,"btnSearchCompAvailable").setLeft(210).setTop(11).setWidth(70).setHeight(21).setCaption("$app.caption.search").onClick("_btnsearchcompavailable_onclick"));C.grpDealingPattern.append((new linb.UI.Button).host(C,"btnCompDealingPatternOk").setLeft(470).setTop(350).setWidth(70).setCaption("$app.caption.save").onClick("_btncompdealingpatternok_onclick"));C.grpDealingPattern.append((new linb.UI.Button).host(C,"btnCompDealingPatternRemove").setLeft(390).setTop(350).setWidth(70).setCaption("$app.caption.remove").onClick("_btncompdealingpatternremove_onclick"));C.grpDealingPattern.append((new linb.UI.Input).host(C,"iptSearchCompDealingPattern").setLeft(40).setTop(10).setWidth(170).setHeight(23).setBorder(true).onHotKeypress("_iptsearchcompdealingpattern_onhotkeypress"));C.panelCompany.append((new linb.UI.Dialog).host(C,"pnlUserDealPattern").setLeft(151).setTop(181).setWidth(700).setHeight(520).setZIndex(1004).setVisibility("hidden").setResizer(false).setCaption("$app.caption.userdealingpattern").setMovable(false).setMinBtn(false).setMaxBtn(false).setCloseBtn(false).setCustomStyle({PANEL:"overflow:auto"}).setPinBtn(false));C.pnlUserDealPattern.append((new linb.UI.Group).host(C,"grpUserDealingPattern").setLeft(20).setTop(10).setWidth(650).setHeight(460).setCaption("").setToggleBtn(false));C.grpUserDealingPattern.append((new linb.UI.List).host(C,"lstAvailableUDP").setDirtyMark(false).setLeft(30).setTop(80).setWidth(240).setHeight(300).setSelMode("multi").setValue(""));C.grpUserDealingPattern.append((new linb.UI.Button).host(C,"btnTransferUDP").setLeft(290).setTop(190).setWidth(80).setCaption(">>>").onClick("_btntransferudp_onclick"));C.grpUserDealingPattern.append((new linb.UI.List).host(C,"lstSelectedUDP").setDirtyMark(false).setLeft(390).setTop(80).setWidth(240).setHeight(300).setValue("").onDblclick("_lstselectedudp_ondblclick").onItemSelected("_lstselectedudp_onitemselected"));C.grpUserDealingPattern.append((new linb.UI.Label).host(C,"label72").setLeft(390).setTop(0).setCaption("<b><u>$app.caption.expirydate :</b></u>").setHAlign("left"));C.grpUserDealingPattern.append((new linb.UI.Label).host(C,"label73").setLeft(370).setTop(30).setWidth(60).setCaption("<i>$app.caption.expiryfrom :</i>").setHAlign("center"));C.grpUserDealingPattern.append((new linb.UI.Label).host(C,"label74").setLeft(500).setTop(30).setWidth(60).setCaption("<i>$app.caption.expiryto :</i>").setHAlign("center"));C.grpUserDealingPattern.append((new linb.UI.Button).host(C,"btnSaveUDP").setLeft(480).setTop(400).setWidth(70).setCaption("$app.caption.save").onClick("_btnsaveudp_onclick"));C.grpUserDealingPattern.append((new linb.UI.Button).host(C,"btnCancelUDP").setLeft(560).setTop(400).setWidth(70).setCaption("$app.caption.cancel").onClick("_bntuserdealingcancel_onclick"));C.grpUserDealingPattern.append((new linb.UI.Input).host(C,"iptSearchUserNameUDP").setDomId("iptSearchUserNameUDP").setLeft(30).setTop(30).setWidth(160).setHeight(24).setBorder(true).onHotKeypress("_iptsearchusernameudp_onhotkeypress"));C.grpUserDealingPattern.append((new linb.UI.Button).host(C,"btnSearchUDP").setLeft(190).setTop(31).setWidth(80).setCaption("$app.caption.search").onClick("_btnsearchudp_onclick"));C.grpUserDealingPattern.append((new linb.UI.Button).host(C,"btnRemoveUDP").setLeft(390).setTop(400).setWidth(80).setCaption("$app.caption.remove").onClick("_btnremoveudp_onclick"));C.grpUserDealingPattern.append((new linb.UI.Dialog).host(C,"dlgUDPSetDate").setLeft(210).setTop(40).setWidth(240).setHeight(280).setVisibility("hidden").setResizer(false).setCaption("Date expiry settings").setMovable(false).setMinBtn(false).setMaxBtn(false).setCloseBtn(false).setPinBtn(false));C.dlgUDPSetDate.append((new linb.UI.Group).host(C,"group11").setLeft(10).setTop(10).setWidth(210).setHeight(220).setCaption("").setToggleBtn(false));C.group11.append((new linb.UI.Label).host(C,"label140").setLeft(10).setTop(10).setWidth(50).setCaption("$app.caption.expiryfrom :").setHAlign("left"));C.group11.append((new linb.UI.Label).host(C,"label141").setLeft(10).setTop(40).setWidth(50).setCaption("$app.caption.expiryto :").setHAlign("left"));C.group11.append((new linb.UI.List).host(C,"lstDESUser").setLeft(50).setTop(70).setWidth(140).setHeight(90));C.group11.append((new linb.UI.Label).host(C,"label142").setLeft(10).setTop(70).setWidth(50).setCaption("User :").setHAlign("left"));C.group11.append((new linb.UI.ComboInput).host(C,"cbiDESDateTo").setDirtyMark(false).setLeft(50).setTop(40).setWidth(140).setZIndex(1004).setType("datepicker").afterUIValueSet("_cbidesdateto_afteruivalueset"));C.group11.append((new linb.UI.Button).host(C,"btnDESSet").setLeft(50).setTop(170).setWidth(70).setCaption("$app.caption.set").onClick("_btndesset_onclick"));C.group11.append((new linb.UI.Button).host(C,"btnDESCancel").setLeft(130).setTop(170).setWidth(60).setCaption("$app.caption.cancel").onClick("_btndescancel_onclick"));C.group11.append((new linb.UI.List).host(C,"lstDESUserId").setLeft(10).setTop(90).setWidth(40).setHeight(70).setVisibility("hidden"));C.group11.append((new linb.UI.ComboInput).host(C,"cbiDESDateFrom").setDirtyMark(false).setLeft(50).setTop(10).setWidth(140).setZIndex(1002).setType("datepicker").setCaption("").afterUIValueSet("_cbidesdatefrom_afteruivalueset"));C.group11.append((new linb.UI.Input).host(C,"iptDESFrom").setLeft(50).setTop(10).setWidth(125).setZIndex(1006).setBorder(true).onHotKeypress("_iptdesfrom_onhotkeypress"));C.group11.append((new linb.UI.Input).host(C,"iptDESTo").setLeft(50).setTop(40).setWidth(125).setBorder(true).onHotKeypress("_iptdesto_onhotkeypress"));C.group11.append((new linb.UI.Label).host(C,"lblDESEditudp").setLeft(10).setTop(120).setWidth(30).setVisibility("hidden").setCaption(""));C.grpUserDealingPattern.append((new linb.UI.Label).host(C,"label143").setLeft(30).setTop(60).setWidth(240).setCaption("$app.caption.availableuserid").setHAlign("left"));C.grpUserDealingPattern.append((new linb.UI.Label).host(C,"label144").setLeft(390).setTop(60).setWidth(240).setCaption("$app.caption.selecteduserid").setHAlign("left"));C.grpUserDealingPattern.append((new linb.UI.Input).host(C,"iptExpiryFromUDP").setDirtyMark(false).setLeft(430).setTop(30).setWidth(70).setBorder(true).setValueFormat("^(([0-2][0-9])|([3][0-1]))/(([0][0-9])|([1][0-2]))/([0-9]{4})$").onHotKeypress("_iptexpiryfromudp_onhotkeypress"));C.grpUserDealingPattern.append((new linb.UI.Input).host(C,"iptExpiryToUDP").setDirtyMark(false).setLeft(560).setTop(30).setWidth(70).setBorder(true).setValueFormat("^(([0-2][0-9])|([3][0-1]))/(([0][0-9])|([1][0-2]))/([0-9]{4})$").onHotKeypress("_iptexpirytoudp_onhotkeypress"));C.grpUserDealingPattern.append((new linb.UI.Label).host(C,"lblSaveUDPWhenRemove").setLeft(160).setTop(380).setWidth(110).setVisibility("hidden").setCaption(""));C.grpUserDealingPattern.append((new linb.UI.List).host(C,"lstRemovedUDP").setDirtyMark(false).setLeft(390).setTop(80).setWidth(240).setHeight(300).setVisibility("hidden").setValue(""));C.panelCompany.append((new linb.UI.Dialog).host(C,"dialogNewUserCategory").setLeft(361).setTop(151).setWidth(250).setHeight(220).setZIndex(4).setVisibility("hidden").setResizer(false).setCaption("$app.caption.category").setMovable(false).setMinBtn(false).setMaxBtn(false).setCloseBtn(false).setPinBtn(false));C.dialogNewUserCategory.append((new linb.UI.Label).host(C,"label1147").setLeft(10).setTop(10).setWidth(220).setCaption("<b>$app.caption.listofcategories :</b>").setHAlign("left"));C.dialogNewUserCategory.append((new linb.UI.List).host(C,"lstCategoryList").setLeft(10).setTop(30).setWidth(220).setHeight(110).setValue(""));C.dialogNewUserCategory.append((new linb.UI.Button).host(C,"btnSelectListOfCategory").setLeft(80).setTop(150).setWidth(70).setCaption("$app.caption.select").onClick("_btnselectlistofcategory_onclick"));C.dialogNewUserCategory.append((new linb.UI.Button).host(C,"btnCloseCategory").setLeft(160).setTop(150).setWidth(70).setCaption("$app.caption.close").onClick("_btnclosecategory_onclick"));C.panelCompany.append((new linb.UI.Panel).host(C,"pnlAdminNewUserDetails").setDock("none").setLeft(471).setTop(21).setWidth(430).setHeight(770).setZIndex(4).setVisibility("hidden").setCaption("Admin User Details"));C.pnlAdminNewUserDetails.append((new linb.UI.Label).host(C,"label1411").setLeft(10).setTop(25).setCaption("<font color='red'>*</font>&nbsp;&nbsp;$app.caption.firstname :"));C.pnlAdminNewUserDetails.append((new linb.UI.Label).host(C,"label1412").setLeft(40).setTop(85).setWidth(90).setCaption("<font color='red'>*</font>&nbsp;&nbsp;$app.caption.role :"));C.pnlAdminNewUserDetails.append((new linb.UI.Label).host(C,"label1413").setLeft(20).setTop(55).setWidth(110).setCaption("<font color='red'>*</font>&nbsp;&nbsp;$app.caption.shortname :"));C.pnlAdminNewUserDetails.append((new linb.UI.Label).host(C,"label1414").setLeft(40).setTop(226).setWidth(90).setCaption("Address 1 :"));C.pnlAdminNewUserDetails.append((new linb.UI.Label).host(C,"label1415").setLeft(30).setTop(371).setWidth(100).setCaption("$app.caption.mobilenumber :"));C.pnlAdminNewUserDetails.append((new linb.UI.Label).host(C,"label1416").setLeft(20).setTop(401).setWidth(110).setCaption("$app.caption.emailadd :"));C.pnlAdminNewUserDetails.append((new linb.UI.Label).host(C,"label1417").setLeft(30).setTop(461).setWidth(100).setCaption("$app.caption.comments :"));C.pnlAdminNewUserDetails.append((new linb.UI.Label).host(C,"label1418").setLeft(10).setTop(616).setCaption("<font color='red'>*</font>&nbsp;&nbsp;$app.caption.userid :"));C.pnlAdminNewUserDetails.append((new linb.UI.Label).host(C,"label1419").setLeft(10).setTop(646).setCaption("<font color='red'>*</font>&nbsp;&nbsp;$app.caption.password :"));C.pnlAdminNewUserDetails.append((new linb.UI.Label).host(C,"label1420").setLeft(30).setTop(110).setWidth(100).setCaption("<font color='red'>*</font>&nbsp;&nbsp;$app.caption.category :"));C.pnlAdminNewUserDetails.append((new linb.UI.Label).host(C,"label1421").setLeft(20).setTop(311).setWidth(110).setCaption("$app.caption.telephonenumber :"));C.pnlAdminNewUserDetails.append((new linb.UI.Label).host(C,"label1422").setLeft(10).setTop(256).setCaption("$app.caption.address2 :"));C.pnlAdminNewUserDetails.append((new linb.UI.Label).host(C,"label1423").setLeft(10).setTop(281).setCaption("$app.caption.address3 :"));C.pnlAdminNewUserDetails.append((new linb.UI.Label).host(C,"label1424").setLeft(20).setTop(341).setWidth(110).setCaption("$app.caption.faxnumber :"));C.pnlAdminNewUserDetails.append((new linb.UI.Label).host(C,"label1425").setLeft(0).setTop(436).setWidth(130).setCaption("$app.caption.mobileemailnumber :"));C.pnlAdminNewUserDetails.append((new linb.UI.List).host(C,"lstAdminCategory").setDataBinder("bindAdminNewUsers").setDataField("admnewcategory").setDisabled(true).setLeft(130).setTop(110).setWidth(271).setHeight(101).setTabindex(54).setSelMode("multi").setValue(""));C.pnlAdminNewUserDetails.append((new linb.UI.CheckBox).host(C,"chkAdmNewBMS").setDataBinder("bindAdminNewUsers").setDataField("admnewuserbms").setDisabled(true).setLeft(120).setTop(561).setWidth(191).setTabindex(64).setCaption("$app.caption.userbms").setVisibility("hidden"));C.pnlAdminNewUserDetails.append((new linb.UI.Input).host(C,"iptAdminFirstname").setDataBinder("bindAdminNewUsers").setDataField("adminfirstname").setLeft(130).setTop(21).setWidth(271).setTabindex(301).setBorder(true).setMaxlength(64));C.pnlAdminNewUserDetails.append((new linb.UI.Input).host(C,"iptAdminShortname").setDataBinder("bindAdminNewUsers").setDataField("admnewshortname").setLeft(130).setTop(51).setWidth(271).setTabindex(302).setBorder(true).setMaxlength(10));C.pnlAdminNewUserDetails.append((new linb.UI.ComboInput).host(C,"cbiAdminRole").setLeft(131).setTop(81).setWidth(270).setHeight(24).setTabindex(303).setBorder(true).onHotKeypress("_cbiadminrole_onhotkeypress"));C.pnlAdminNewUserDetails.append((new linb.UI.Input).host(C,"iptAdminAddress1").setDataBinder("bindAdminNewUsers").setDataField("admnewaddress1").setLeft(130).setTop(221).setWidth(271).setTabindex(304).setBorder(true).setMaxlength(100));C.pnlAdminNewUserDetails.append((new linb.UI.Input).host(C,"iptAdminAddress2").setDataBinder("bindAdminNewUsers").setDataField("admnewaddress2").setLeft(130).setTop(251).setWidth(271).setTabindex(305).setBorder(true).setMaxlength(100));C.pnlAdminNewUserDetails.append((new linb.UI.Input).host(C,"iptAdminAddress3").setDataBinder("bindAdminNewUsers").setDataField("admnewaddress3").setLeft(130).setTop(281).setWidth(271).setTabindex(306).setBorder(true).setMaxlength(100));C.pnlAdminNewUserDetails.append((new linb.UI.Input).host(C,"iptAdminTelNo").setDataBinder("bindAdminNewUsers").setDataField("admnewtelno").setLeft(130).setTop(311).setWidth(271).setTabindex(307).setBorder(true).onHotKeypress("_iptadmintelno_onhotkeypress").setMaxlength(20));C.pnlAdminNewUserDetails.append((new linb.UI.Input).host(C,"iptAdminFaxNo").setDataBinder("bindAdminNewUsers").setDataField("admnewfaxno").setLeft(130).setTop(341).setWidth(271).setTabindex(308).setBorder(true).onHotKeypress("_iptadminfaxno_onhotkeypress").setMaxlength(20));C.pnlAdminNewUserDetails.append((new linb.UI.Input).host(C,"iptAdminMobileNo").setDataBinder("bindAdminNewUsers").setDataField("admnewmobileno").setLeft(130).setTop(371).setWidth(271).setTabindex(309).setBorder(true).onHotKeypress("_iptadminmobileno_onhotkeypress").setMaxlength(20));C.pnlAdminNewUserDetails.append((new linb.UI.Input).host(C,"iptAdminEmailAdd").setDataBinder("bindAdminNewUsers").setDataField("admnewemailadd").setLeft(130).setTop(401).setWidth(271).setTabindex(340).setBorder(true).setMaxlength(50).onBlur("_iptadminemailadd_onblur"));C.pnlAdminNewUserDetails.append((new linb.UI.Input).host(C,"iptAdminMobEmailAdd").setDataBinder("bindAdminNewUsers").setDataField("admnewmobemailadd").setLeft(130).setTop(431).setWidth(271).setTabindex(341).setBorder(true).setMaxlength(50).onBlur("_iptadminmobemailadd_onblur"));C.pnlAdminNewUserDetails.append((new linb.UI.TextEditor).host(C,"txtAdminComments").setDataBinder("bindAdminNewUsers").setDataField("admnewcomments").setLeft(130).setTop(461).setWidth(271).setHeight(90).setTabindex(342).setBorder(true).onHotKeypress("_txtadmincomments_onhotkeypress"));C.pnlAdminNewUserDetails.append((new linb.UI.Input).host(C,"iptAdminUsername").setDataBinder("bindAdminNewUsers").setDataField("admnewusername").setLeft(130).setTop(611).setWidth(271).setTabindex(343).setBorder(true).setMaxlength(21));C.pnlAdminNewUserDetails.append((new linb.UI.Input).host(C,"iptAdminPassword").setDataBinder("bindAdminNewUsers").setDataField("admnewpassword").setLeft(130).setTop(641).setWidth(271).setTabindex(344).setBorder(true).setMaxlength(21).setType("password"));C.pnlAdminNewUserDetails.append((new linb.UI.Button).host(C,"btnAdmNewSave").setLeft(211).setTop(701).setWidth(80).setTabindex(345).setCaption("$app.caption.save").onClick("_btnadmsave_onclick"));C.pnlAdminNewUserDetails.append((new linb.UI.Button).host(C,"btnAdmNewCancel").setLeft(311).setTop(701).setWidth(80).setTabindex(346).setCaption("$app.caption.cancel").onClick("_btnadmnewcancel_onclick"));C.panelCompany.append((new linb.UI.Group).host(C,"group3").setLeft(21).setTop(11).setWidth(431).setHeight(50).setTabindex(1000).setCaption("").setToggleBtn(false));C.group3.append((new linb.UI.Input).host(C,"iptSearchCompName").setDomId("iptSearchCompName").setDataBinder("bindcompany").setDataField("searchcompname").setLeft(130).setTop(0).setWidth(160).setHeight(24).setTabindex(0).setBorder(true).setMaxlength(50).onChange("_iptsearchcompname_onchange"));C.group3.append((new linb.UI.Label).host(C,"label42").setLeft(10).setTop(5).setWidth(110).setTabindex(1001).setCaption("<b>$app.caption.companyname :</b>"));C.group3.append((new linb.UI.Button).host(C,"btnCompanySearch").setLeft(290).setTop(1).setWidth(60).setTabindex(1003).setCaption("$app.caption.search").onClick("_btncompanysearch_onclick"));C.group3.append((new linb.UI.Button).host(C,"btnAddNewCompany").setLeft(347).setTop(1).setWidth(60).setTabindex(1004).setCaption("$app.caption.addnewcompany").onClick("_btnaddnewcompany_onclick"));return B},_searchcompanyname:function(D){var B=this;var A="/eON/autosearchnames.json";var C=new Object();C.companyName=D;linb.Ajax(A,C,function(E){var F=_.unserialize(E);SPA.tgSearchCompanyName.setRows(F.searcResults)},function(E){linb.message("失敗： "+E)},null,{method:"POST",retry:0}).start()},_searchnamecdpattern:function(D){if(D.length>0){this.iptSearchCompName.setValue("");var C=this,A=[];var B="/eON/searchcdpattern.json";var E=new Object();E.companyType=this.cbiCompanyType.getUIValue();E.companyId=this.lblCompanyId.getCaption();E.companyName=D;linb.Ajax(B,E,function(G){var I=_.unserialize(G);var F=[];for(var H=0;H<I.result.length;H++){F.push({id:I.result[H].companyId,caption:I.result[H].companyName})}SPA.lstAvailableCompDealingPattern.setItems(F)},function(F){linb.message("失敗： "+F)},null,{method:"POST",retry:0}).start()}else{this._loadCDP(2)}},_showUsers:function(){var B=this;var A="/eON/getallusers.json";var C=new Object();C.companyId=this.lblCompanyId.getCaption();linb.Ajax(A,C,function(D){SPA._fillusers(D)},function(D){linb.message("失敗： "+D)},null,{method:"POST",retry:0}).start()},_fillusers:function(B){var A=_.unserialize(B);this.tgUsersList.setRows(A.users)},_btncompanysearch_onclick:function(E,G,A,J){var C=this.iptSearchCompName.getUIValue();if(this.iptSearchCompName.getUIValue()==""){var I=this,H=[];var B="/eON/getCompanyNames.json";var D=new Object();D.isDealingPattern=0;linb.Ajax(B,D,function(K){var L=_.unserialize(K);SPA.tgSearchCompanyName.setRows(L.companyNames)},function(K){linb.message("失敗： "+K)},null,{method:"POST",retry:0}).start();this.iptSearchCompName.setValue("");this.dialogSearchCompany.show(this.panelCompany.reBoxing(),true,150,80);this.iptDlgSearchCompName.setValue("");this.btnSearchCompOk.setDisabled(true);this.tgSearchCompanyName.refresh()}else{var I=this;var B="/eON/autosearchnames.json";var F=new Object();F.companyName=C;linb.Ajax(B,F,function(K){var L=_.unserialize(K);SPA.tgSearchCompanyName.setRows(L.searcResults)},function(K){linb.message("失敗： "+K)},null,{method:"POST",retry:0}).start();this.dialogSearchCompany.show(this.panelCompany.reBoxing(),true,150,80);this.tgSearchCompanyName.refresh();SPA.iptDlgSearchCompName.setValue(C)}},_btnsearchcompok_onclick:function(A,C,D,B){this._search_companyname(this.lblSearchUserId.getUIValue());this._hidePanelDetails("search");this.dialogSearchCompany.hide();this.btnAddCompUser.setDisabled(false);this.btnAdministrator.setDisabled(false)},_search_companyname:function(D){var B=this;var A="/eON/companyinfo.json";var C=new Object();C.companyId=D;linb.Ajax(A,C,function(E){SPA.btnDealingPattern.setDisabled(false);SPA._fillsearchedcompany(E)},function(E){linb.message("失敗： "+E)},null,{method:"POST"}).start();this.dialogSearchCompany.hide()},_fillsearchedcompany:function(C){var B=_.unserialize(C);var A=0;A=B.companyInfo.companyName;this.bindcompany.resetValue("");SPA.lblCompanyId.setCaption(B.companyInfo.companyId);SPA.iptCompName.setValue(B.companyInfo.companyName);SPA.iptShortName.setValue(B.companyInfo.shortName);SPA.cbiCompanyType.setValue(B.companyInfo.companyType.description);this.cbiCompanyType.setDisabled(true);SPA.iptContactPerson.setValue(B.companyInfo.contactPerson);SPA.iptAddress1.setValue(B.companyInfo.address1);SPA.iptAddress2.setValue(B.companyInfo.address2);SPA.iptAddress3.setValue(B.companyInfo.address3);SPA.iptTelNo.setValue(B.companyInfo.telNumber);SPA.iptFaxNo.setValue(B.companyInfo.faxNumber);SPA.iptEmailAdd.setValue(B.companyInfo.emailAdd);SPA.chkSOX.setValue(B.companyInfo.soxFlag==0?false:true);SPA.txtEditorComment.setValue(B.companyInfo.comments);SPA.tgUsersList.setRows(B.userslist);this.grpCompanyDetails.reBoxing().show();g_saveMode="update";this.grpCompanyDetails.setToggle(true)},_btnsearchcompcancel_onclick:function(A,C,D,B){this.dialogSearchCompany.hide()},_tguserslist_onclickcell:function(D,A,F,H){var C=this;var B="/eON/usersinfo.json";var E=new Object();var G=A._row.cells[3].value;E.userId=G;linb.Ajax(B,E,function(I){SPA._fillsearchusersinfo(I)},function(I){linb.message("失敗： "+I)},null,{method:"POST",retry:0}).start();this.lblUserId.setCaption(A._row.cells[3].value)},_fillsearchusersinfo:function(F){this.binduserdetails.resetValue("");this._hidePanelDetails("edit");var E=_.unserialize(F);this.iptEditName.setValue(E.userinfo.name);this.iptEditShortName.setValue(E.userinfo.shortName);this.iptEditAddress1.setValue(E.userinfo.address1);this.iptEditAddress2.setValue(E.userinfo.address2);this.iptEditAddress3.setValue(E.userinfo.address3);this.iptEditTelNo.setValue(E.userinfo.telNumber);this.iptEditFaxNo.setValue(E.userinfo.faxNumber);this.iptEditMobileNo.setValue(E.userinfo.mobileNumber);this.iptEditEmailAdd.setValue(E.userinfo.pcEmail);this.iptEditMobEmailAdd.setValue(E.userinfo.mobileEmail);this.txtEditorEditComments.setValue(E.userinfo.comments);this.chkEditBMS.setValue(E.userinfo.useBms==0?false:true);this.iptEditUserName.setValue(E.userinfo.userName);this.iptEditPassword.setValue(E.userinfo.password);var B=[];for(var D=0;D<E.userinfo.categoryList.length;D++){B.push({id:E.userinfo.categoryList[D].categoryId,caption:E.userinfo.categoryList[D].categoryAvailable})}this.lstEditCategory.setItems(B);var A=[];A.push({id:E.userinfo.rolesList[0].roleId,caption:E.userinfo.rolesList[0].roleName});var C=E.userinfo.rolesList[0].roleName;this.cbiEditRole.setUIValue(E.userinfo.rolesList[0].roleName,true);this.cbiEditRole.setItems(A,true);this.btnNewDealingPattern.setDisabled(false)},_btndownloadcompInfo_onclick:function(B,E,F,C){if(!downloadcsv.isErrorFieldRequired()){var A="/eON/downloadcompanyinfo.json";var D=new Object();D.companyId=SPA.lblCompanyId.getCaption();D.include=SPA.chkIncludeDetails.getValue();submitTheForm(A,"_json",_.serialize(D),"Are you sure to download company information?")}},_btndealingpattern_onclick:function(A,C,D,B){this._loadCDP(1)},_loadCDP:function(E){var C=this,A=[];var B="/eON/getCompanyNamesById.json";var D=new Object();D.isDealingPattern=1;D.descr=this.cbiCompanyType.getUIValue();D.flagType=this.cbiCompanyType.getUIValue()=="buyer"?"0":"1";D.companyId=this.lblCompanyId.getCaption();linb.Ajax(B,D,function(G){var I=[];var F=[];var J=_.unserialize(G);if(J.companyNames==null){return }if(J.companyNames.length>0){for(var H=0;H<J.companyNames.length;H++){I.push({id:J.companyNames[H].cells[1],caption:J.companyNames[H].cells[0]})}if(E==1){if(J.selectedCDPattern.length>0){for(var H=0;H<J.selectedCDPattern.length;H++){F.push({id:J.selectedCDPattern[H].companyId,caption:J.selectedCDPattern[H].companyName})}SPA.btnCompDealingPatternRemove.setDisabled(true);SPA.btnCompDealingPatternOk.setDisabled(false)}else{SPA.btnCompDealingPatternRemove.setDisabled(true);SPA.btnCompDealingPatternOk.setDisabled(true)}SPA.lstSelectedCompDealingPattern.setItems(F)}SPA.lstAvailableCompDealingPattern.setItems(I)}},function(F){linb.message("失敗： "+F)},null,{method:"POST",retry:0}).start();this.panelDealingPattern.show(this.panelCompany.reBoxing(),true,0,0)},_btneditdealingpattern_onclick:function(D,E,A,H){var G=this,F=[];var B="/eON/usersdpattern.json";var C=new Object();C.isDealingPattern=1;C.companyId=this.lblCompanyId.getCaption();C.userId=this.lblUserId.getCaption();C.companyType=this.cbiCompanyType.getUIValue();C.roleId=this.cbiEditRole.getItems()[0].id;C.roleName=this.cbiEditRole.getUIValue();C.newRole=0;linb.Ajax(B,C,function(K){var M=[],J=[];var J=[];var N=_.unserialize(K);for(var L=0;L<N.usersDPList.length;L++){M.push({id:N.usersDPList[L].userId,caption:N.usersDPList[L].userName})}SPA.lstAvailableUDP.setItems(M);for(var L=0;L<N.userSelDP.length;L++){J.push({id:N.userSelDP[L].userId,caption:N.userSelDP[L].userName,datefrom:N.userSelDP[L].expiryDateFrom,dateto:N.userSelDP[L].expiryDateTo})}if(J.length>0){SPA.lblSaveUDPWhenRemove.setCaption("1");SPA.btnRemoveUDP.setDisabled(true);SPA.btnSaveUDP.setDisabled(false)}else{SPA.lblSaveUDPWhenRemove.setCaption("0");SPA.btnRemoveUDP.setDisabled(true);SPA.btnSaveUDP.setDisabled(true)}SPA.lstSelectedUDP.setItems(J);SPA.lstSelectedUDP.refresh()},function(J){linb.message("失敗： "+J)},null,{method:"POST",retry:0}).start();this.pnlUserDealPattern.show(this.panelCompany.reBoxing(),true,0,0);g_dpflag=0;var I=linb.Dom.byId("iptSearchUserNameUDP");linb(I).nextFocus();g_removeMode=0},_bntuserdealingcancel_onclick:function(A,C,D,B){this.pnlUserDealPattern.hide()},_btnaddcompuser_onclick:function(A,C,D,B){this.bindnewuserdetails.resetValue("");this._hidePanelDetails("new");this.lblUserId.setCaption("");SPA.btnNewDealingPattern.setDisabled(true);this._getRoles()},_btnnewdealingpattern_onclick:function(D,E,A,H){var G=this,F=[];var B="/eON/usersdpattern.json";var C=new Object();C.isDealingPattern=1;C.companyId=this.lblCompanyId.getCaption();C.userId=this.lblUserId.getCaption();C.companyType=this.cbiCompanyType.getUIValue();C.roleId=this.cbiNewRole.getItems()[0].id;C.roleName=this.cbiNewRole.getUIValue();C.newRole=1;linb.Ajax(B,C,function(K){var M=[],J=[];var J=[];var N=_.unserialize(K);for(var L=0;L<N.usersDPList.length;L++){M.push({id:N.usersDPList[L].userId,caption:N.usersDPList[L].userName})}SPA.lstAvailableUDP.setItems(M);for(var L=0;L<N.userSelDP.length;L++){J.push({id:N.userSelDP[L].userId,caption:N.userSelDP[L].userName,datefrom:N.userSelDP[L].expiryDateFrom,dateto:N.userSelDP[L].expiryDateTo})}if(J.length>0){SPA.lblSaveUDPWhenRemove.setCaption("1");SPA.btnRemoveUDP.setDisabled(true);SPA.btnSaveUDP.setDisabled(false)}else{SPA.lblSaveUDPWhenRemove.setCaption("0");SPA.btnRemoveUDP.setDisabled(true);SPA.btnSaveUDP.setDisabled(true)}SPA.lstSelectedUDP.setItems(J);SPA.lstSelectedUDP.refresh()},function(J){linb.message("失敗： "+J)},null,{method:"POST",retry:0}).start();this.pnlUserDealPattern.show(this.panelCompany.reBoxing(),true,0,0);g_dpflag=1;var I=linb.Dom.byId("iptSearchUserNameUDP");linb(I).nextFocus();g_removeMode=0},_btnsavecompuser_onclick:function(D,G,H,E){var C=this;var F=new Object();F.companyId=this.lblCompanyId.getCaption();F.companyName=this.iptCompName.getUIValue();F.shortName=this.iptShortName.getUIValue();F.description=this.cbiCompanyType.getUIValue();F.contactPerson=this.iptContactPerson.getUIValue();F.address1=this.iptAddress1.getUIValue();F.address2=this.iptAddress2.getUIValue();F.address3=this.iptAddress3.getUIValue();F.telNumber=this.iptTelNo.getUIValue();F.faxNumber=this.iptFaxNo.getUIValue();F.emailAdd=this.iptEmailAdd.getUIValue();F.soxFlag=this.chkSOX.getUIValue();F.comments=this.txtEditorComment.getUIValue();if(checkIfFieldIsValid(utilTrim(this.iptCompName.getUIValue()),utilTrim(this.iptShortName.getUIValue()),utilTrim(this.cbiCompanyType.getUIValue()),"null","null","null")){if(this.iptEmailAdd.getUIValue().length>0&&checkEmail(this.iptEmailAdd.getUIValue())==false){alert(linb.Locale[g_LangKey].app.caption.alertinvalidemailadd);return }var B=g_saveMode;switch(B){case"new":var A="/eON/savecompanyinfo.json";linb.Ajax(A,F,function(I){var J=_.unserialize(I);if(parseInt(J.status)>0){alert(linb.Locale[g_LangKey].app.caption.alertnewcompanysaved);SPA._hidePanelDetails()}else{if(J.status=="-1"){alert(linb.Locale[g_LangKey].app.caption.alertcompanyexist)}else{alert(linb.Locale[g_LangKey].app.caption.alerterrorsaving)}}},function(I){linb.message("失敗： "+I)},null,{method:"POST",retry:0}).start();this.btnDealingPattern.setDisabled(false);break;default:var A="/eON/updatecompanyinfo.json";linb.Ajax(A,F,function(I){var J=_.unserialize(I);if(parseInt(J.status)>0){alert(linb.Locale[g_LangKey].app.caption.alertcompanyupdated)}else{alert(linb.Locale[g_LangKey].app.caption.alerterrorupdatingrecord)}},function(I){linb.message("失敗： "+I)},null,{method:"POST",retry:0}).start()}}else{alert(linb.Locale[g_LangKey].app.caption.alertrequiredfields)}},_btnsavenewrole_onclick:function(D,G,A,K){var F=new Object();var C=this.cbiNewRole.getUIValue().split(";"),H=0;var I=this.cbiNewRole.getItems();for(var E=0;E<I.length;E++){if(I[E].caption==C){H=1}}if(checkIfFieldIsValid(utilTrim(this.iptNewFirstName.getUIValue()),utilTrim(this.iptNewShortName.getUIValue()),utilTrim(this.cbiNewRole.getUIValue()),this.lstNewCategory.getItems(),utilTrim(this.iptNewUserId.getUIValue()),utilTrim(this.iptNewPassword.getUIValue()))){if(utilTrim(this.iptNewUserId.getUIValue()).length<1||utilTrim(this.iptNewPassword.getUIValue()).length<1){alert(linb.Locale[g_LangKey].app.caption.alertrequiredfields);return }if(H==1){var J=this;var B="/eON/saveusersinfo.json";var F=J._getUserObjects();linb.Ajax(B,F,function(L){var M=_.unserialize(L);if(parseInt(M.userid)>0){alert(linb.Locale[g_LangKey].app.caption.alertnewusersaved);SPA.btnNewDealingPattern.setDisabled(false);SPA._showUsers()}else{if(M.userid==-1){alert(linb.Locale[g_LangKey].app.caption.alertuserexist)}else{alert(linb.Locale[g_LangKey].app.caption.alerterrorsaving)}}SPA.lblUserId.setCaption(M.userid)},function(L){linb.message("失敗： "+L)},null,{method:"POST",retry:0,reqType:"json"}).start()}else{alert(linb.Locale[g_LangKey].app.caption.alertinvalidrole)}}else{alert(linb.Locale[g_LangKey].app.caption.alertrequiredfields)}},_getUserObjects:function(){var E=new Object();var D=this.cbiNewRole.getUIValue().split(";"),A;var B=this.cbiNewRole.getItems();for(var C=0;C<B.length;C++){if(B[C].caption==D){A=B[C].id}}E.roleId=A;E.userId=this.lblUserId.getCaption();E.userName=this.iptNewUserId.getUIValue();E.password=this.iptNewPassword.getUIValue();E.name=this.iptNewFirstName.getUIValue();E.shortName=this.iptNewShortName.getUIValue();E.companyId=this.lblCompanyId.getCaption();E.address1=this.iptNewAddress1.getUIValue();E.address2=this.iptNewAddress2.getUIValue();E.address3=this.iptNewAddress3.getUIValue();E.mobileNumber=this.iptNewMobileNo.getUIValue();E.telNumber=this.iptNewTelNo.getUIValue();E.faxNumber=this.iptNewFaxNo.getUIValue();E.mobileEmail=this.iptNewMobEmailAdd.getUIValue();E.pcEmail=this.iptNewEmailAdd.getUIValue();E.comments=this.txtEditorNewComments.getUIValue();E.useBms=this.chkNewBMS.getUIValue();return E},_btnaddnewcompany_onclick:function(A,C,D,B){this._clearfields();g_saveMode="new";this.lblCompanyId.setCaption("");this.lblUserId.setCaption("");this.btnDealingPattern.setDisabled(true);this.btnAddCompUser.setDisabled(true);this.btnAdministrator.setDisabled(true);this.cbiCompanyType.setDisabled(false)},_clearfields:function(){this.bindcompany.resetValue("");this.bindnewuserdetails.resetValue("");this.binduserdetails.resetValue("");this.tgUsersList.setRows([]);this.lstEditCategory.setItems([]);this.lstNewCategory.setItems([]);this._hidePanelDetails("");this.grpCompanyDetails.reBoxing().show();this.grpCompanyDetails.setToggle(true)},_tgsearchcompanyname_onrowselected:function(A,C,B){this.iptDlgSearchCompName.setValue(C.cells[0].value);this.lblSearchUserId.setValue(C.cells[1].value);this.btnSearchCompOk.setDisabled(false)},_tgsearchcompanyname_ondblclickrow:function(A,D,B,C){this._search_companyname(D.cells[1].value);this._hidePanelDetails("search");this.dialogSearchCompany.hide();this.btnAddCompUser.setDisabled(false);this.btnAdministrator.setDisabled(false)},_btndeletecompuser_onclick:function(C,G,H,E){if(this.lblUserId.getCaption().length>0){var D=confirm(linb.Locale[g_LangKey].app.caption.confirmdeleteuser);if(!D){return }var B=this;var A="/eON/deleteuserbyid.json";var F=new Object();F.userId=this.lblUserId.getCaption();F.companyId=this.lblCompanyId.getCaption();linb.Ajax(A,F,function(I){var J=_.unserialize(I);if(parseInt(J.status)>0){SPA.binduserdetails.resetValue("");SPA.pnlEditUserDetails.hide();SPA.pnlNewUserDetails.hide();SPA.tgUsersList.setRows(J.userslist);alert(linb.Locale[g_LangKey].app.caption.alertuserdeleted)}else{alert(linb.Locale[g_LangKey].app.caption.alertdeletionfailed)}},function(I){linb.message("失敗： "+I)},null,{method:"POST",retry:0}).start()}else{alert(linb.Locale[g_LangKey].app.caption.alertnoselecteduser)}},_btnsaveeditrole_onclick:function(C,F,A,H){var E=this.cbiEditRole.getUIValue(),I="";if(E=="SELLER"||E=="BUYER"){I=this.lstEditCategory.getItems()}else{I="temporaryList"}if(checkIfFieldIsValid(utilTrim(this.iptEditName.getUIValue()),utilTrim(this.iptEditShortName.getUIValue()),this.cbiEditRole.getUIValue(),I,utilTrim(this.iptEditUserName.getUIValue()),utilTrim(this.iptEditPassword.getUIValue()))){if(utilTrim(this.iptEditUserName.getUIValue()).length<1||utilTrim(this.iptEditPassword.getUIValue()).length<1){alert(linb.Locale[g_LangKey].app.caption.alertrequiredfields);return }var G=this;var B="/eON/updateuserbyid.json";var D=G._getUsersObjectoUpdate();linb.Ajax(B,D,function(J){var K=_.unserialize(J);if(parseInt(K.status)>0){alert(linb.Locale[g_LangKey].app.caption.alertuserupdated);SPA._showUsers()}else{alert(linb.Locale[g_LangKey].app.caption.alerterrorupdatingrecord)}},function(J){linb.message("失敗： "+J)},null,{method:"POST",reqType:"json"}).start()}else{alert(linb.Locale[g_LangKey].app.caption.alertrequiredfields)}},_getUsersObjectoUpdate:function(){var C=new Object();var D=_.serialize(this.cbiEditRole.getItems());var A=_.unserialize(D);var B=null;for(var E=0;E<A.length;E++){B=A[0].id}C.roleId=B;C.userId=this.lblUserId.getCaption();C.userName=this.iptEditUserName.getUIValue();C.password=this.iptEditPassword.getUIValue();C.name=this.iptEditName.getUIValue();C.shortName=this.iptEditShortName.getUIValue();C.companyId=this.lblCompanyId.getCaption();C.categoryList=this._getCategoryList("edit");C.address1=this.iptEditAddress1.getUIValue();C.address2=this.iptEditAddress2.getUIValue();C.address3=this.iptEditAddress3.getUIValue();C.mobileNumber=this.iptEditMobileNo.getUIValue();C.telNumber=this.iptEditTelNo.getUIValue();C.faxNumber=this.iptEditFaxNo.getUIValue();C.mobileEmail=this.iptEditMobEmailAdd.getUIValue();C.pcEmail=this.iptEditEmailAdd.getUIValue();C.comments=this.txtEditorEditComments.getUIValue();C.useBms=this.chkEditBMS.getUIValue();return C},_getCategoryList:function(D){var E=[],A,C;if(D=="new"){C=this.lstNewCategory.getUIValue().split(";");A=this.lstNewCategory.getItems();for(var B=0;B<A.length;B++){if(_.arr.indexOf(C,A[B].id)>=0){E.push(A[B].id)}}}else{A=this.lstEditCategory.getItems();for(var B=0;B<A.length;B++){E.push(A[B].id)}}return E},_btneditremove_onclick:function(E,G,H,F){var D=this.lstEditCategory.getUIValue().split(";"),C=[];var A=this.lstEditCategory.getItems();for(var B=0;B<A.length;B++){if(_.arr.indexOf(D,A[B].id)>=0){this.lstEditCategory.removeItems(A[B].id)}}this.lstEditCategory.refresh()},_btnselectlistofcategory_onclick:function(D,F,A,I){var C=this.lstCategoryList.getUIValue().split(";"),B=[],H,G;var H=this.lstCategoryList.getItems();G=this._checkCategoryIfExists(this.lstCategoryList.getUIValue());if(G){alert("Duplicate entry.")}else{for(var E=0;E<H.length;E++){if(_.arr.indexOf(C,H[E].id)>=0){B.push(H[E])}}this.lstEditCategory.insertItems(B,false);this.lstCategoryList.refresh();this.dialogNewUserCategory.hide()}},_checkCategoryIfExists:function(C){var B=this.lstEditCategory.getItems();for(var A=0;A<B.length;A++){if(C==B[A].id){return true}}return false},_btneditcategory_onclick:function(A,C,D,B){this._getRoles();this.dialogNewUserCategory.show(this.panelCompany.reBoxing(),true,350,100)},_btncompdealingpatterncancel_onclick:function(A,C,D,B){this.lstSelectedCompDealingPattern.setItems([]);this.panelDealingPattern.hide()},_btncompdealingpatternok_onclick:function(C,G,A,J){if(this.lstSelectedCompDealingPattern.getItems().length<1){alert(linb.Locale[g_LangKey].app.caption.alertnodpselected)}else{var I=this;var B="/eON/savecompdpattern.json";var F=new Object(),D=[];F.companyId=this.lblCompanyId.getCaption();F.roleType=this.cbiCompanyType.getUIValue();var H=this.lstSelectedCompDealingPattern.getItems();for(var E=0;E<H.length;E++){D.push(H[E].id)}F.selectedCompId=D;linb.Ajax(B,F,function(K){var L=_.unserialize(K);if(parseInt(L.status)>0){alert(linb.Locale[g_LangKey].app.caption.alertcompanydpsaved)}else{alert(linb.Locale[g_LangKey].app.caption.alerterrorsavingdp)}},function(K){linb.message("失敗： "+K)},null,{method:"POST",retry:0}).start();if(this.lstSelectedCompDealingPattern.getItems().length<1){this.btnCompDealingPatternOk.setDisabled(true);this.btnCompDealingPatternRemove.setDisabled(true)}}},_btntransferavailablecompanies_onclick:function(D,F,A,I){var C=this.lstAvailableCompDealingPattern.getUIValue().split(";"),B=[];var H=this.lstAvailableCompDealingPattern.getItems();var G=false;for(var E=0;E<H.length;E++){if(_.arr.indexOf(C,H[E].id)>=0){G=this._checkitems(H[E].caption);if(G==true){alert(linb.Locale[g_LangKey].app.caption.alertduplicateentry)}else{B.push(H[E])}}this.btnCompDealingPatternOk.setDisabled(false);this.btnCompDealingPatternRemove.setDisabled(true)}this.lstSelectedCompDealingPattern.insertItems(B,null,false);this.lstAvailableCompDealingPattern.refresh()},_checkitems:function(C){var B=this.lstSelectedCompDealingPattern.getItems();for(var A=0;A<B.length;A++){if(C==B[A].caption){return true}}},_btncompdealingpatternremove_onclick:function(C,F,G,D){var B=this;var A="/eON/removeCDP.json";var E=new Object();E.companyId=this.lblCompanyId.getCaption();E.selectedCompanyId=this.lstSelectedCompDealingPattern.getUIValue();E.companyType=this.cbiCompanyType.getUIValue();linb.Ajax(A,E,function(I){var K=_.unserialize(I);if(parseInt(K.result)<1){var M=SPA.lstSelectedCompDealingPattern.getUIValue().split(";"),L=[];var H=SPA.lstSelectedCompDealingPattern.getItems();for(var J=0;J<H.length;J++){if(_.arr.indexOf(M,H[J].id)>=0){SPA.lstSelectedCompDealingPattern.removeItems(H[J].id)}}}else{alert(linb.Locale[g_LangKey].app.caption.alertcannotremovedp)}SPA.lstSelectedCompDealingPattern.refresh();if(SPA.lstSelectedCompDealingPattern.getItems().length<1){SPA.btnCompDealingPatternOk.setDisabled(true);SPA.btnCompDealingPatternRemove.setDisabled(true)}},function(H){linb.message("失敗： "+H)},null,{method:"POST",retry:0}).start()},_btncancelcompuser_onclick:function(A,C,D,B){this._hidePanelDetails("")},_getRoles:function(){var B=this;var A="/eON/loadrolesandcategory.json";var C=new Object();C.companyFlagType=this.cbiCompanyType.getUIValue().toLowerCase()=="buyer"?"0":"1";linb.Ajax(A,C,function(E){var G=null;G=_.unserialize(E);var H=[];for(var F=0;F<G.roles.length;F++){H.push({id:G.roles[F].roleId,caption:G.roles[F].roleName})}SPA.cbiNewRole.setItems(H);var D=[];for(var F=0;F<G.category.length;F++){D.push({id:G.category[F].categoryId,caption:G.category[F].description})}SPA.lstNewCategory.setItems(D);SPA.lstCategoryList.setItems(D)},function(D){linb.message("失敗： "+D)},null,{method:"POST",retry:0}).start()},_btnadministrator_onclick:function(A,C,D,B){this._hidePanelDetails("admin")},_hidePanelDetails:function(A){switch(A){case"admin":this.pnlAdminNewUserDetails.reBoxing().show();this.pnlNewUserDetails.hide();this.pnlEditUserDetails.hide();SPA.setAdminRoleId();break;case"new":this.pnlNewUserDetails.reBoxing().show();this.pnlAdminNewUserDetails.hide();this.pnlEditUserDetails.hide();break;case"edit":this.pnlEditUserDetails.reBoxing().show();this.pnlAdminNewUserDetails.hide();this.pnlNewUserDetails.hide();break;case"search":this.pnlEditUserDetails.hide();this.pnlAdminNewUserDetails.hide();this.pnlNewUserDetails.hide();this.binduserdetails.resetValue("");this.bindnewuserdetails.resetValue("");this.bindAdminNewUsers.resetValue("");this.grpCompanyDetails.reBoxing().show();break;default:this.pnlEditUserDetails.hide();this.pnlAdminNewUserDetails.hide();this.pnlNewUserDetails.hide();this.grpCompanyDetails.hide();this.bindcompany.resetValue("");this.binduserdetails.resetValue("");this.bindnewuserdetails.resetValue("");this.bindAdminNewUsers.resetValue("");this.grpCompanyDetails.setToggle(false);break}},_btncancelnewrole_onclick:function(A,C,D,B){this.bindnewuserdetails.resetValue("");SPA.pnlNewUserDetails.hide()},_btncanceleditrole_onclick:function(A,C,D,B){this.binduserdetails.resetValue("");this.pnlEditUserDetails.hide()},_btnadmnewcancel_onclick:function(A,C,D,B){this.bindAdminNewUsers.resetValue("");this.pnlAdminNewUserDetails.hide()},_btnadmsave_onclick:function(C,F,G,D){if(checkIfFieldIsValid(utilTrim(this.iptAdminFirstname.getUIValue()),utilTrim(this.iptAdminShortname.getUIValue()),this.cbiAdminRole.getUIValue(),"null",utilTrim(this.iptAdminUsername.getUIValue()),utilTrim(this.iptAdminPassword.getUIValue()))){var B=this;var A="/eON/saveusersinfo.json";var E=new Object();E.companyId=this.lblCompanyId.getCaption();E.name=this.iptAdminFirstname.getUIValue();E.shortName=this.iptAdminShortname.getUIValue();E.roleId=this.cbiAdminRole.getItems()[0].id;E.address1=this.iptAdminAddress1.getUIValue();E.address2=this.iptAdminAddress2.getUIValue();E.address3=this.iptAdminAddress3.getUIValue();E.telNumber=this.iptAdminTelNo.getUIValue();E.faxNumber=this.iptAdminFaxNo.getUIValue();E.mobileNumber=this.iptAdminMobileNo.getUIValue();E.pcEmail=this.iptAdminEmailAdd.getUIValue();E.mobileEmail=this.iptAdminMobEmailAdd.getUIValue();E.comments=this.txtAdminComments.getUIValue();E.userName=this.iptAdminUsername.getUIValue();E.password=this.iptAdminPassword.getUIValue();linb.Ajax(A,E,function(H){var I=_.unserialize(H);if(parseInt(I.status)>0){alert(linb.Locale[g_LangKey].app.caption.alertnewadminsaved);SPA.pnlAdminNewUserDetails.hide();SPA.bindAdminNewUsers.resetValue("");SPA._showUsers()}else{if(I.status==-1){alert(linb.Locale[g_LangKey].app.caption.alertrecordexist)}else{alert(linb.Locale[g_LangKey].app.caption.alerterrorsaving)}}},function(H){linb.message("失敗： "+H)},null,{method:"POST",retry:0,reqType:"json"}).start()}else{alert(linb.Locale[g_LangKey].app.caption.alertrequiredfields)}},_getAdminUserObjects:function(){var A=new Object();A.name=this.iptAdminFirstname.getUIValue();A.shortName=this.iptAdminShortname.getUIValue();A.roleId=5;A.address1=this.iptAdminAddress1.getUIValue();A.address2=this.iptAdminAddress2.getUIValue();A.address3=this.iptAdminAddress3.getUIValue();A.telNumber=this.iptAdminTelNo.getUIValue();A.faxNumber=this.iptAdminFaxNo.getUIValue();A.mobileNumber=this.iptAdminMobileNo.getUIValue();A.pcEmail=this.iptAdminEmailAdd.getUIValue();A.mobileEmail=this.iptAdminMobEmailAdd.getUIValue();A.comments=this.txtAdminComments.getUIValue();A.userName=this.iptAdminUsername.getUIValue();A.password=this.iptAdminPassword.getUIValue();return A},_btntransferudp_onclick:function(E,I,A,M){var C=this.lstAvailableUDP.getUIValue().split(";"),B=[],J=new Date;var K=this.lstAvailableUDP.getItems();var H=false;var G=false;var D=[];var L=[];for(var F=0;F<K.length;F++){if(_.arr.indexOf(C,K[F].id)>=0){H=this._checkudpitems(K[F].caption);if(H==true){G=true}L.push(K[F].id);D.push({id:K[F].id,caption:K[F].caption});this.iptDESFrom.setUIValue(linb.Date.format(J,"yyyymmdd"));this.iptDESTo.setUIValue("");this.lblDESEditudp.setCaption("1")}}if(G==true){alert(linb.Locale[g_LangKey].app.caption.alertduplicateentry)}else{this.lstDESUserId.setItems(D);this.lstDESUser.setItems(D);this.dlgUDPSetDate.show(this.pnlUserDealPattern.reBoxing(),true,200,200);this.lstAvailableUDP.refresh()}},_checkudpitems:function(C){var B=this.lstSelectedUDP.getItems();for(var A=0;A<B.length;A++){if(C==B[A].caption){return true}}},_btnremoveudp_onclick:function(E,G,H,F){var D=this.lstSelectedUDP.getUIValue().split(";"),C=[];var A=this.lstSelectedUDP.getItems();for(var B=0;B<A.length;B++){if(_.arr.indexOf(D,A[B].id)>=0){removedItems.push([A[B].id,A[B].datefrom,A[B].dateto]);this.lstSelectedUDP.removeItems(A[B].id)}}this.lstRemovedUDP.setItems(removedItems);if(this.lstSelectedUDP.getItems().length>0){this.btnSaveUDP.setDisabled(false);this.btnRemoveUDP.setDisabled(true)}else{this.btnSaveUDP.setDisabled(false);this.btnRemoveUDP.setDisabled(true)}g_removeMode=1},_btnsaveudp_onclick:function(C,J,A,M){if(this.lstSelectedUDP.getItems().length<1&&g_removeMode==0){alert(linb.Locale[g_LangKey].app.caption.alertnoselecteduserdp)}else{var L=this,H,G;var B="/eON/saveuserdpattern.json";var F=new Object(),D=[];F.roleId=g_dpflag==1?this.cbiNewRole.getItems()[0].id:this.cbiEditRole.getItems()[0].id;F.userId=this.lblUserId.getCaption();F.companyId=this.lblCompanyId.getCaption();F.roleName=this.cbiNewRole.getUIValue();F.newRole=g_dpflag;var K=this.lstSelectedUDP.getItems();for(var E=0;E<K.length;E++){D.push([K[E].id,K[E].datefrom,K[E].dateto])}var N=this.lstRemovedUDP.getItems(),I=[];F.selectedUserId=D;F.removedUserId=N;linb.Ajax(B,F,function(O){var P=_.unserialize(O);if(parseInt(P.status)>0){alert(linb.Locale[g_LangKey].app.caption.alertuserdpsaved)}else{alert(linb.Locale[g_LangKey].app.caption.alerterrorsavinguserdp)}N=[];SPA.lstRemovedUDP.setItems(N)},function(O){linb.message("失敗： "+O)},null,{method:"POST",retry:0}).start();this.lstSelectedUDP.refresh();if(this.lstSelectedUDP.getItems().length<1){this.btnSaveUDP.setDisabled(true)}else{this.btnSaveUDP.setDisabled(false)}}},_iptsearchcompname_onchange:function(D,B,F){var C=this;var A="/eON/autosearchnames.json";var E=new Object();E.companyName=F;linb.Ajax(A,E,function(G){var H=_.unserialize(G);SPA.iptDlgSearchCompName.setValue(F);SPA.tgSearchCompanyName.setRows(H.searcResults);SPA.tgSearchCompanyName.refresh()},function(G){linb.message("失敗： "+G)},null,{method:"POST",retry:0}).start();SPA.dialogSearchCompany.show(this.panelCompany.reBoxing(),true,150,80)},_ipttelno_onhotkeypress:function(D,C,G,B,F,E,H){var A=E.charCode?E.charCode:E.keyCode;if(A==43||A==45){return true}if((A<48||A>57)&&(C!="backspace")){return false}},_iptfaxno_onhotkeypress:function(D,C,G,B,F,E,H){var A=E.charCode?E.charCode:E.keyCode;if(A==43||A==45){return true}if((A<48||A>57)&&(C!="backspace")){return false}},_txteditorcomment_onhotkeypress:function(C,B,F,A,E,D,G){if(SPA.txtEditorComment.getUIValue().length>=1000&&B!="backspace"){B=null;return false}},_iptdlgsearchcompname_onhotkeypress:function(C,B,F,A,E,D,G){if(SPA.iptDlgSearchCompName.getUIValue().length<1){SPA.btnSearchCompOk.setDisabled(true)}else{SPA.btnSearchCompOk.setDisabled(false)}SPA._searchcompanyname(this.iptDlgSearchCompName.getUIValue())},_iptnewtelno_onhotkeypress:function(D,C,G,B,F,E,H){var A=E.charCode?E.charCode:E.keyCode;if(A==43||A==45){return true}if((A<48||A>57)&&(C!="backspace")){return false}},_iptnewfaxno_onhotkeypress:function(D,C,G,B,F,E,H){var A=E.charCode?E.charCode:E.keyCode;if(A==43||A==45){return true}if((A<48||A>57)&&(C!="backspace")){return false}},_iptnewmobileno_onhotkeypress:function(D,C,G,B,F,E,H){var A=E.charCode?E.charCode:E.keyCode;if(A==43||A==45){return true}if((A<48||A>57)&&(C!="backspace")){return false}},_txteditornewcomments_onhotkeypress:function(C,B,F,A,E,D,G){if(SPA.txtEditorNewComments.getUIValue().length>=1000&&B!="backspace"){B=null;return false}},_iptedittelno_onhotkeypress:function(D,C,G,B,F,E,H){var A=E.charCode?E.charCode:E.keyCode;if(A==43||A==45){return true}if((A<48||A>57)&&(C!="backspace")){return false}},_ipteditfaxno_onhotkeypress:function(D,C,G,B,F,E,H){var A=E.charCode?E.charCode:E.keyCode;if(A==43||A==45){return true}if((A<48||A>57)&&(C!="backspace")){return false}},_ipteditmobileno_onhotkeypress:function(D,C,G,B,F,E,H){var A=E.charCode?E.charCode:E.keyCode;if(A==43||A==45){return true}if((A<48||A>57)&&(C!="backspace")){return false}},_txteditoreditcomments_onhotkeypress:function(C,B,F,A,E,D,G){if(SPA.txtEditorEditComments.getUIValue().length>=1000&&B!="backspace"){B=null;return false}},_btnsearchcompavailable_onclick:function(A,C,D,B){this._searchnamecdpattern(this.iptSearchCompDealingPattern.getUIValue())},_iptsearchcompdealingpattern_onhotkeypress:function(C,B,F,A,E,D,G){SPA._searchnamecdpattern(this.iptSearchCompDealingPattern.getUIValue())},_iptadmintelno_onhotkeypress:function(D,C,G,B,F,E,H){var A=E.charCode?E.charCode:E.keyCode;if(A==43||A==45){return true}if((A<48||A>57)&&(C!="backspace")){return false}},_iptadminfaxno_onhotkeypress:function(D,C,G,B,F,E,H){var A=E.charCode?E.charCode:E.keyCode;if(A==43||A==45){return true}if((A<48||A>57)&&(C!="backspace")){return false}},_iptadminmobileno_onhotkeypress:function(D,C,G,B,F,E,H){var A=E.charCode?E.charCode:E.keyCode;if(A==43||A==45){return true}if((A<48||A>57)&&(C!="backspace")){return false}},_txtadmincomments_onhotkeypress:function(C,B,F,A,E,D,G){if(SPA.txtAdminComments.getUIValue().length>=1000&&B!="backspace"){B=null;return false}},_btndescancel_onclick:function(A,C,D,B){this.dlgUDPSetDate.hide()},_iptdesuser_onhotkeypress:function(C,B,F,A,E,D,G){return false},_btndesset_onclick:function(C,F,A,I){var D=linb.Date,G=new Date(),H;H=D.format(G,"yyyymmdd");var B=this.iptDESFrom.getUIValue();var E=this.iptDESTo.getUIValue();if(B<H){alert(linb.Locale[g_LangKey].app.caption.alerterrordatefromto)}else{if(E==""){this._updateUDPItems(this.lblDESEditudp.getCaption())}else{if(B>E){alert(linb.Locale[g_LangKey].app.caption.alerterrordatetofrom)}else{this._updateUDPItems(this.lblDESEditudp.getCaption())}}}},_lstselectedudp_onitemselected:function(A,B,D){this.iptExpiryFromUDP.resetValue(B.datefrom);this.iptExpiryToUDP.resetValue(B.dateto);var C=A.boxing().getUIValue();if(_.arr.indexOf(C.split(";"),B.id)!=-1){this.btnRemoveUDP.setDisabled(false)}else{this.btnRemoveUDP.setDisabled(true)}},_cbidesdateto_afteruivalueset:function(B,A,C){this.iptDESTo.setUIValue(linb.Date.format(C,"yyyymmdd"))},_cbidesdatefrom_afteruivalueset:function(B,A,C){this.iptDESFrom.setUIValue(linb.Date.format(C,"yyyymmdd"))},_lstselectedudp_ondblclick:function(D,I,A){var C=this.lstSelectedUDP.getUIValue().split(";"),B=[];var H=this.lstSelectedUDP.getItems();var G=false;var E=[];for(var F=0;F<H.length;F++){if(_.arr.indexOf(C,H[F].id)>=0){E.push({id:H[F].id,caption:H[F].caption});this.iptDESFrom.setUIValue(H[F].datefrom);this.iptDESTo.setUIValue(H[F].dateto);this.lblDESEditudp.setCaption("2")}}this.lstDESUser.setItems(E);this.dlgUDPSetDate.show(this.pnlUserDealPattern.reBoxing(),true,200,200)},_updateUDPItems:function(B){var A=[],G,I=false;var D=this.lstDESUserId.getItems();var J=this.lstDESUser.getItems();var C=this.lstRemovedUDP.getUIValue().split(";"),A=[];var H=this.lstRemovedUDP.getItems();for(var F=0;F<J.length;F++){var E=new Object();E.userid=J[F].id;E.username=J[F].caption;E.datefrom=this.iptDESFrom.getUIValue();E.dateto=this.iptDESTo.getUIValue();if(B=="1"){A.push({id:E.userid,caption:E.username,datefrom:E.datefrom,dateto:this.iptDESTo.getUIValue()})}else{this.lstSelectedUDP.updateItem(E.userid,{datefrom:this.iptDESFrom.getUIValue(),dateto:this.iptDESTo.getUIValue()})}this.lstRemovedUDP.removeItems(J[F].id);I=true}if(I==true){SPA.btnRemoveUDP.setDisabled(true);SPA.btnSaveUDP.setDisabled(false)}else{SPA.btnRemoveUDP.setDisabled(true);SPA.btnSaveUDP.setDisabled(true)}this.lstSelectedUDP.insertItems(A,null,false);this.lstSelectedUDP.refresh();this.lstDESUser.refresh();this.dlgUDPSetDate.hide()},_iptdesfrom_onhotkeypress:function(C,B,F,A,E,D,G){return false},_iptdesto_onhotkeypress:function(C,B,F,A,E,D,G){return false},_iptexpiryfromudp_onhotkeypress:function(C,B,F,A,E,D,G){return false},_iptexpirytoudp_onhotkeypress:function(C,B,F,A,E,D,G){return false},_btnsearchudp_onclick:function(D,F,H,E){var C=this,A=[];var B="/eON/autosearchuserdp.json";var G=new Object();G.companyId=this.lblCompanyId.getCaption();G.userId=this.lblUserId.getCaption();G.userName=this.iptSearchUserNameUDP.getUIValue();G.companyType=this.cbiCompanyType.getUIValue();G.roleName=this.cbiEditRole.getUIValue();G.roleId=this.cbiEditRole.getItems()[0].id;linb.Ajax(B,G,function(J){var L=_.unserialize(J);var I=[];for(var K=0;K<L.result.length;K++){I.push({id:L.result[K].userId,caption:L.result[K].userName})}SPA.lstAvailableUDP.setItems(I)},function(I){linb.message("失敗： "+I)},null,{method:"POST",retry:0}).start()},_iptsearchusernameudp_onhotkeypress:function(E,K,F,D,G,H,A){var J=this,I=[];var B="/eON/autosearchuserdp.json";var C=new Object();C.companyId=this.lblCompanyId.getCaption();C.userId=this.lblUserId.getCaption();C.userName=this.iptSearchUserNameUDP.getUIValue();C.companyType=this.cbiCompanyType.getUIValue();C.roleId=this.cbiEditRole.getItems()[0].id;C.roleName=this.cbiEditRole.getUIValue();linb.Ajax(B,C,function(M){var O=_.unserialize(M);var L=[];for(var N=0;N<O.result.length;N++){L.push({id:O.result[N].userId,caption:O.result[N].userName})}SPA.lstAvailableUDP.setItems(L)},function(L){linb.message("失敗： "+L)},null,{method:"POST",retry:0}).start()},_cbinewrole_afteruivalueset:function(B,A,C){if(C.toLowerCase()=="seller"||C.toLowerCase()=="buyer"){this.lstNewCategory.setDisabled(false);this.lstNewCategory.refresh()}else{this.lstNewCategory.setDisabled(true);this.lstNewCategory.refresh()}},_iptdlgsearchcompname_onhotkeyup:function(C,B,F,A,E,D,G){if(SPA.iptDlgSearchCompName.getUIValue().length<1){SPA.btnSearchCompOk.setDisabled(true)}else{SPA.btnSearchCompOk.setDisabled(false)}SPA._searchcompanyname(this.iptDlgSearchCompName.getUIValue())},_iptdlgsearchcompname_onhotkeydown:function(C,B,F,A,E,D,G){if(SPA.iptDlgSearchCompName.getUIValue().length<1){SPA.btnSearchCompOk.setDisabled(true)}else{SPA.btnSearchCompOk.setDisabled(false)}SPA._searchcompanyname(this.iptDlgSearchCompName.getUIValue())},_iptcompname_onhotkeyup:function(C,B,F,A,E,D,G){},_cbicompanytype_onhotkeypress:function(C,B,F,A,E,D,G){return false},_iptemailadd_onblur:function(C){var A=SPA.iptEmailAdd.getUIValue();if(A.length>0){var B=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;if(B.test(A)==false){alert(linb.Locale[g_LangKey].app.caption.alertinvalidemailadd);return false}}},_iptnewmobemailadd_onblur:function(C){var A=SPA.iptNewMobEmailAdd.getUIValue();if(A.length>0){var B=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;if(B.test(A)==false){alert(linb.Locale[g_LangKey].app.caption.alertinvalidmobileemailadd);return false}}},_iptnewemailadd_onblur:function(C){var A=SPA.iptNewEmailAdd.getUIValue();if(A.length>0){var B=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;if(B.test(A)==false){alert(linb.Locale[g_LangKey].app.caption.alertinvalidemailadd);return false}}},_cbinewrole_onhotkeypress:function(C,B,F,A,E,D,G){return false},_cbieditrole_onhotkeypress:function(C,B,F,A,E,D,G){return false},_ipteditemailadd_onblur:function(C){var A=SPA.iptEditEmailAdd.getUIValue();if(A.length>0){var B=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;if(B.test(A)==false){alert(linb.Locale[g_LangKey].app.caption.alertinvalidemailadd);return false}}},_ipteditmobemailadd_onblur:function(C){var A=SPA.iptEditMobEmailAdd.getUIValue();if(A.length>0){var B=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;if(B.test(A)==false){alert(linb.Locale[g_LangKey].app.caption.alertinvalidmobileemailadd);return false}}},_cbiadminrole_onhotkeypress:function(C,B,F,A,E,D,G){return false},_iptadminemailadd_onblur:function(C){var A=SPA.iptAdminEmailAdd.getUIValue();if(A.length>0){var B=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;if(B.test(A)==false){alert(linb.Locale[g_LangKey].app.caption.alertinvalidemailadd);return false}}},_iptadminmobemailadd_onblur:function(C){var A=SPA.iptAdminMobEmailAdd.getUIValue();if(A.length>0){var B=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;if(B.test(A)==false){alert(linb.Locale[g_LangKey].app.caption.alertinvalidmobileemailadd);return false}}},_btnclosecategory_onclick:function(A,C,D,B){this.dialogNewUserCategory.hide()},setAdminRoleId:function(){var A=[];if(this.cbiCompanyType.getUIValue()=="Seller"){A.push({id:"2",caption:"Seller Admin"})}else{if(this.cbiCompanyType.getUIValue()=="Buyer"){A.push({id:"4",caption:"Buyer Admin"})}else{A.push({id:"0",caption:"Error"})}}this.cbiAdminRole.setItems(A)},_iptFaxNo_beforekeypress:function(D,H,I,B,C,E,G,A){if(I.length==1){if(B&&(I=="c"||I=="x"||I=="a")){return true}var F=D.boxing().getUIValue().length-(H[1]-H[0]);if(F>=20){return false}}},_lstselectedcompdealingpattern_onitemselected:function(A,B,D){var C=A.boxing().getUIValue();if(_.arr.indexOf(C.split(";"),B.id)!=-1){this.btnCompDealingPatternRemove.setDisabled(false)}else{this.btnCompDealingPatternRemove.setDisabled(true)}}}});